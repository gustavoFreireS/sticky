{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 7199f49f22f9490efb89","webpack:///./src/Sticky.js","webpack:///./src/Wire.js","webpack:///./src/utils.js","webpack:///./src/Brick.js","webpack:///./src/ports.js","webpack:///./src/Port.js","webpack:///./src/blockBuilder.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KCnCqB;AACnB,YADmB,MACnB,CAAY,EAAZ,EAAgB;;;2BADG,QACH;;AACd,UAAK,EAAL,GAAU,SAAS,cAAT,CAAwB,EAAxB,CAAV,CADc;AAEd,SAAG,CAAC,KAAK,EAAL,EAAS,MAAM,0BAAN,CAAb;AACA,SAAI,MAAM,OAAO,aAAP,CAAqB,KAArB,EAA4B,EAAE,OAAO,aAAP,EAAsB,SAAS,aAAT,EAAwB,qBAAqB,eAArB,EAA5E,CAAN;;AAHU,SAKd,CAAK,IAAL,GAAY,CAAZ,CALc;AAMd,UAAK,IAAL,GAAY,EAAZ,CANc;AAOd,UAAK,OAAL,GAAe,EAAf,CAPc;AAQd,UAAK,QAAL,GAAgB,EAAhB,CARc;AASd,UAAK,MAAL,GAAc,EAAd,CATc;AAUd,UAAK,MAAL,GAAc,IAAd,CAVc;;AAYd,SAAI,0BAAJ,CAZc;;AAcd,SAAI,gBAAJ,CAAqB,WAArB,EAAkC,aAAK;;AAErC,aAAK,YAAL,GAAoB,IAApB,CAFqC;AAGrC,WAAI,EAAE,MAAF,CAAS,IAAT,KAAkB,MAAlB,EAA0B;AAC5B,eAAK,YAAL,GAAoB,EAAE,MAAF,CAAS,OAAT,CADQ;AAE5B,gBAAO,MAAK,YAAL,GAAoB,EAAE,MAAF,CAAS,OAAT,CAFC;QAA9B;AAIA,WAAI,EAAE,MAAF,CAAS,IAAT,KAAkB,MAAlB,IAA4B,EAAE,MAAF,CAAS,GAAT,KAAiB,KAAjB,EAAwB;AACtD,gBAAO,MAAK,WAAL,CAAiB,EAAE,MAAF,CAAxB,CADsD;QAAxD;;AAIA,WAAI,EAAE,MAAF,CAAS,IAAT,KAAkB,OAAlB,IAA6B,EAAE,MAAF,CAAS,IAAT,KAAkB,OAAlB,EAA2B;AAC1D,eAAK,YAAL,GAAoB,EAAE,MAAF,CAAS,UAAT,CAAoB,OAApB,CADsC;AAE1D,eAAK,QAAL,GAAgB,EAAE,MAAF,CAAS,UAAT,CAF0C;AAG1D,aAAI,UAAU,MAAK,QAAL,CAAc,OAAd,CAH4C;AAI1D,aAAI,SAAS,QAAQ,IAAR,CAAa,qBAAb,EAAT,CAJsD;AAK1D,aAAI,UAAU,EAAE,CAAF,GAAM,OAAO,IAAP,CALsC;AAM1D,aAAI,UAAW,EAAE,CAAF,GAAM,OAAO,GAAP,CANqC;AAO1D,eAAK,IAAL,CAAU,SAAV,GAAsB,EAAE,GAAG,UAAU,QAAQ,CAAR,EAAW,GAAG,UAAU,QAAQ,CAAR,EAA7D,CAP0D;AAQ1D,eAAK,IAAL,CAAU,WAAV,CAAsB,MAAK,QAAL,CAAtB,CAR0D;AAS1D,iBAAQ,KAAR,CAAc,OAAd,CAAsB;kBAAQ,MAAK,IAAL,CAAU,WAAV,CAAsB,KAAK,GAAL;UAA9B,CAAtB,CAT0D;QAA5D;MAXgC,EAuB/B,KAvBH,EAdc;;AAwCd,cAAS,gBAAT,CAA0B,WAA1B,EAAuC,aAAK;;;MAAL,EAGpC,KAHH,EAxCc;;AA6Cd,cAAS,gBAAT,CAA0B,SAA1B,EAAqC,aAAK;;AAExC,WAAI,EAAE,OAAF,IAAa,EAAb,EAAiB;AACnB,iBAAQ,GAAR,CAAY,MAAK,YAAL,CAAZ,CADmB;AAEnB,eAAK,YAAL,CAAkB,MAAlB,GAFmB;QAArB;MAFmC,EAMlC,KANH,EA7Cc;;AAqDd,SAAI,gBAAJ,CAAqB,SAArB,EAAgC,aAAK;AACnC,eAAQ,GAAR,CAAY,CAAZ,EADmC;MAAL,EAE7B,KAFH,EArDc;;AAyDd,SAAI,gBAAJ,CAAqB,SAArB,EAAgC,aAAK;AACnC,aAAK,QAAL,GAAgB,IAAhB,CADmC;AAEnC,WAAG,EAAE,MAAF,CAAS,IAAT,KAAkB,MAAlB,EACD,OAAO,MAAK,SAAL,CAAe,EAAE,MAAF,CAAtB,CADF;;AAGA,WAAG,MAAK,OAAL,CAAa,WAAb,CAAH,EAA8B;AAC5B,eAAK,QAAL,CAAc,IAAd,EAD4B;AAE5B,aAAI,WAAJ,CAAgB,MAAK,IAAL,CAAU,MAAV,EAAkB,GAAlB,CAAhB,CAF4B;QAA9B;MAL8B,CAAhC,CAzDc;;AAoEd,SAAI,gBAAJ,CAAqB,WAArB,EAAkC,aAAK;AACrC,cAAO,MAAK,UAAL,CAAgB,CAAhB,CAAP,CADqC;MAAL,CAAlC,CApEc;;AAwEd,SAAI,gBAAJ,CAAqB,WAArB,EAAkC,aAAK;AACrC,WAAI,MAAK,QAAL,EAAe;AACjB,aAAI,UAAU,MAAK,QAAL,CAAc,OAAd,CADG;AAEjB,aAAI,SAAS,QAAQ,IAAR,CAAa,qBAAb,EAAT,CAFa;AAGjB,aAAI,UAAU,EAAE,CAAF,GAAM,OAAO,IAAP,CAHH;AAIjB,aAAI,UAAW,EAAE,CAAF,GAAM,OAAO,GAAP,CAJJ;;AAMjB,aAAI,aAAa,MAAK,IAAL,CAAU,SAAV,CANA;AAOjB,iBAAQ,CAAR,GAAY,UAAU,WAAW,CAAX,CAPL;AAQjB,iBAAQ,CAAR,GAAY,UAAU,WAAW,CAAX,CARL;AASjB,iBAAQ,WAAR,GATiB;QAAnB;MADgC,CAAlC,CAxEc;;AAsFd,UAAK,IAAL,GAAY,GAAZ,CAtFc;AAuFd,UAAK,EAAL,CAAQ,WAAR,CAAoB,KAAK,IAAL,CAApB,CAvFc;;AAyFd,UAAK,aAAL,CAAmB,OAAnB,EAA4B;AAC1B,cAAO,EAAP,EAAW,QAAQ,EAAR,EAAY,IAAI,EAAJ,EAAQ,IAAI,EAAJ,EAAQ,MAAM,SAAN,EAAiB,OAAO,EAAE,SAAS,CAAT,EAAY,UAAU,CAAV,EAAa,SAAS,CAAT,EAAY,UAAU,CAAV,EAA9C;AACxD,cAAO,EAAP;AACA,aAAM,cAAN;AACA,iBAAU;gBAAM;QAAN;MAJZ;;;AAzFc,SAiGd,CAAK,WAAL,GAjGc;;AAmGd,UAAK,MAAL,GAAc,CAAC,SAAD,EAAY,SAAZ,EAAuB,SAAvB,EAAkC,SAAlC,EACC,SADD,EACY,SADZ,EACuB,SADvB,EACkC,SADlC,EAEC,SAFD,EAEY,SAFZ,EAEuB,SAFvB,EAEkC,SAFlC,CAAd,CAnGc;;AAuGd,YAAO,IAAP,CAvGc;IAAhB;;;;;gBADmB;;2BAmHb,MAAM,OAAO;AACjB,WAAI,KAAK,OAAO,aAAP,CAAqB,IAArB,EAA2B,KAA3B,CAAL,CADa;AAEjB,WAAI,QAAQ,oBAAU,EAAV,EAAc,IAAd,CAAR,CAFa;AAGjB,aAAM,GAAN,GAAY,KAAK,IAAL,EAAZ,CAHiB;AAIjB,YAAK,QAAL,CAAc,IAAd,CAAmB,KAAnB,EAJiB;;AAMjB,cAAO,KAAP,CANiB;;;;4BAQZ,KAAK;AACV,WAAI,IAAI,GAAJ,IAAW,IAAX,EAAiB,IAAI,GAAJ,GAAU,KAAK,IAAL,EAAV,CAArB;AACA,YAAK,QAAL,CAAc,IAAd,CAAmB,GAAnB,EAFU;AAGV,YAAK,UAAL,CAAgB,IAAI,GAAJ,CAAhB,CAHU;;;;+BAKF,KAAK,QAAQ;AACrB,WAAI,QAAQ,KAAK,QAAL,CAAc,OAAd,CAAsB,GAAtB,CAAR,CADiB;AAErB,WAAI,SAAS,CAAC,CAAD,EAAI,OAAjB;;4CAFqB;;;;;AAIrB,8BAAsB,OAAO,IAAP,CAAY,IAAI,MAAJ,2BAAlC,oGAA+C;eAAtC,wBAAsC;;AAC7C,eAAI,IAAI,MAAJ,CAAW,SAAX,EAAsB,CAAtB,CAAJ,EAA8B;;;;;;;AAC5B,qCAAiB,IAAI,MAAJ,CAAW,SAAX,4BAAjB,wGAAwC;;;qBAA/B,oBAA+B;gBAAxC;;;;;;;;;;;;;;cAD4B;YAA9B;UADF;;;;;;;;;;;;;;QAJqB;;;;;;;AAYrB,+BAAiB,IAAI,KAAJ,2BAAjB,wGAA4B;eAAnB,qBAAmB;;AAC1B,iBAAK,MAAL,GAD0B;UAA5B;;;;;;;;;;;;;;QAZqB;;AAgBrB,YAAK,aAAL,CAAmB,IAAI,GAAJ,CAAnB,CAhBqB;AAiBrB,WAAI,MAAJ,EACE,OAAO,KAAK,QAAL,CAAc,MAAd,CAAqB,KAArB,EAA4B,CAA5B,CAAP,CADF;;;;gCAGS,IAAI;AACb,YAAK,IAAL,CAAU,WAAV,CAAsB,EAAtB,EADa;;;;mCAGD,IAAI;AAChB,YAAK,IAAL,CAAU,WAAV,CAAsB,EAAtB,EADgB;;;;iCAGN,MAAM;AAChB,WAAI,OAAO,mBAAS,KAAK,OAAL,CAAhB,CADY;AAEhB,YAAK,SAAL,GAAiB,KAAK,OAAL,CAAa,GAAb,KAAqB,IAArB,CAFD;AAGhB,YAAK,QAAL,CAAc,WAAd,EAHgB;AAIhB,YAAK,IAAL,CAAU,MAAV,IAAoB,IAApB,CAJgB;AAKhB,YAAK,UAAL,CAAgB,KAAK,GAAL,CAAhB,CALgB;;;;+BAOR,MAAM;AACd,YAAK,QAAL,CAAc,WAAd,EADc;AAEd,YAAK,IAAL,CAAU,MAAV,IAAoB,IAApB,CAFc;AAGd,YAAK,UAAL,CAAgB,KAAK,GAAL,CAAhB,CAHc;;;;+BAKN,MAAM;AACd,WAAI,KAAK,OAAL,CAAa,WAAb,CAAJ,EAA+B;AAC7B,cAAK,QAAL,CAAc,IAAd,EAD6B;AAE7B,aAAI,OAAO,KAAK,IAAL,CAAU,MAAV,CAAP,CAFyB;AAG7B,cAAK,IAAL,GAAY,KAAK,OAAL,CAHiB;;AAK7B,aAAI,KAAK,IAAL,EAAJ,EAAiB;AACf,gBAAK,MAAL,GADe;AAEf,gBAAK,MAAL,CAAY,IAAZ,CAAiB,IAAjB,EAFe;UAAjB,MAGO;AACL,gBAAK,aAAL,CAAmB,KAAK,GAAL,CAAnB,CADK;UAHP;AAMA,gBAAO,KAAK,IAAL,CAAU,MAAV,CAAP,CAX6B;QAA/B;;;;8BAcO,OAAO;AACd,cAAO,KAAK,MAAL,GAAc,KAAd,CADO;;;;6BAGR,OAAO;AACb,cAAO,KAAK,MAAL,KAAgB,KAAhB,CADM;;;;gCAGJ,OAAO;AAChB,WAAI,KAAK,OAAL,CAAa,WAAb,CAAJ,EAA+B;AAC7B,aAAI,OAAO,KAAK,IAAL,CAAU,MAAV,CAAP,CADyB;AAE7B,aAAI,SAAS,KAAK,IAAL,CAAU,qBAAV,EAAT;;AAFyB,aAIzB,SAAS,KAAK,SAAL,GAAiB,CAAjB,GAAqB,CAAC,CAAD,CAJL;AAK7B,aAAI,QAAQ,EAAE,GAAG,MAAM,CAAN,GAAU,OAAO,IAAP,GAAc,MAAxB,EAAgC,GAAG,MAAM,CAAN,GAAU,OAAO,GAAP,EAA1D,CALyB;AAM7B,aAAI,OAAO,KAAK,IAAL,CAAU,QAAV,EAAP,CANyB;;AAQ7B,cAAK,OAAL,CAAa,IAAb,EAAmB,KAAnB,EAA0B,KAAK,SAAL,CAA1B,CAR6B;QAA/B;;;;mCAWwB;WAAd,8DAAQ,oBAAM;;;;;;AACxB,+BAAgB,KAAK,QAAL,2BAAhB,wGAA+B;eAAtB,mBAAsB;;;AAE7B,gBAAK,SAAL,CAAe,GAAf,EAAoB,KAApB,EAF6B;UAA/B;;;;;;;;;;;;;;QADwB;;AAMxB,YAAK,QAAL,GAAgB,EAAhB,CANwB;;AAQxB,WAAI,CAAC,KAAD,EAAQ,OAAZ;;AAEA,WAAI,QAAQ,KAAK,WAAL,CAAiB,OAAjB,CAAR,CAVoB;AAWxB,aAAM,CAAN,GAAU,EAAV,CAXwB,KAWV,CAAM,CAAN,GAAU,KAAK,IAAL,CAAU,YAAV,CAAuB,QAAvB,IAAiC,CAAjC,CAXA;AAYxB,aAAM,QAAN,GAAiB;gBAAM;QAAN,CAZO;;AAcxB,YAAK,MAAL,CAAY,KAAZ,EAdwB;;;;mCAgBZ,MAAM,KAAK;AACvB,YAAK,OAAL,CAAa,IAAb,IAAqB,GAArB,CADuB;AAEvB,YAAK,OAAL,CAAa,IAAb,EAAmB,EAAnB,GAAwB,IAAxB,CAFuB;;AAIvB,WAAI,IAAI,QAAJ,IAAiB,OAAO,IAAI,QAAJ,KAAiB,UAAxB,EAAqC;AACxD,cAAK,OAAL,CAAa,IAAb,EAAmB,QAAnB,GAA8B,IAAI,QAAJ,CAAa,UAAb,EAAyB,IAAI,QAAJ,CAAvD,CADwD;QAA1D;;;;iCAIU,MAAiB;WAAX,6DAAO,kBAAI;;AAC3B,WAAI,CAAC,KAAK,OAAL,CAAa,IAAb,CAAD,EAAqB,MAAM,sBAAN,CAAzB;AACA,cAAO,OAAO,MAAP,CAAc,oBAAU,KAAK,OAAL,CAAa,IAAb,CAAV,CAAd,EAA6C,IAA7C,CAAP,CAF2B;;;;8BAIpB,IAAI;AACX,WAAI,MAAM,SAAN,EAAiB,OAAO,IAAP,CAArB;6CADW;;;;;AAEX,+BAAgB,KAAK,QAAL,2BAAhB,wGAA+B;eAAtB,mBAAsB;;AAC7B,eAAI,IAAI,GAAJ,KAAY,EAAZ,EAAgB,OAAO,GAAP,CAApB;UADF;;;;;;;;;;;;;;QAFW;;;;8BAMJ;AACP,WAAI,WAAW,KAAK,QAAL,CAAc,GAAd,CAAkB,eAAO;AACtC,aAAI,SAAS;AACX,qBAAU,IAAI,SAAJ;AACV,eAAI,IAAI,GAAJ;AACJ,cAAG,IAAI,CAAJ;AACH,cAAG,IAAI,CAAJ;AACH,kBAAO,EAAP;AALW,UAAT,CADkC;;AAStC,cAAK,IAAI,IAAJ,IAAY,IAAI,MAAJ,EAAY;AAC3B,mBAAQ,GAAR,CAAY,IAAZ,EAAkB,IAAI,MAAJ,CAAW,IAAX,CAAlB,EAD2B;AAE3B,kBAAO,KAAP,CAAa,IAAb,IAAqB,IAAI,MAAJ,CAAW,IAAX,EAAiB,GAAjB,CAAqB;iDAAY,KAAK,KAAL;YAAZ,CAA1C,CAF2B;UAA7B;;AAKA,gBAAO,MAAP,CAdsC;QAAP,CAA7B;;;;;;;AADG,WAuBH,WAAW,EAAX,CAvBG;;AAyBP,cAAO,EAAE,kBAAF,EAAY,kBAAZ,EAAP,CAzBO;;;;8BA2BA,MAAM;AACb,YAAK,WAAL,CAAiB,KAAjB,EADa;;;;;;;AAGb,+BAAkB,+BAAlB,wGAAwB;eAAf,qBAAe;;AACtB,eAAI,WAAW,KAAK,OAAL,CAAa,MAAM,QAAN,CAAxB,CADkB;AAEtB,eAAI,MAAM,KAAK,WAAL,CAAiB,MAAM,QAAN,EAAgB,QAAjC,CAAN,CAFkB;AAGtB,eAAI,CAAJ,GAAQ,MAAM,CAAN,CAHc;AAItB,eAAI,CAAJ,GAAQ,MAAM,CAAN,CAJc;AAKtB,eAAI,KAAJ,GAAY,MAAM,KAAN,CALU;AAMtB,eAAI,GAAJ,GAAU,MAAM,EAAN,CANY;AAOtB,mBAAQ,GAAR,CAAY,MAAM,EAAN,EAAU,IAAI,GAAJ,CAAtB,CAPsB;AAQtB,gBAAK,MAAL,CAAY,GAAZ,EARsB;UAAxB;;;;;;;;;;;;;;;;;QAHa;;;;;;;AAiBb,+BAAkB,+BAAlB,wGAAwB;eAAf,qBAAe;;AACtB,eAAI,SAAS,KAAK,QAAL,CAAc,MAAM,EAAN,CAAvB,CADkB;AAEtB,mBAAQ,GAAR,CAAY,MAAZ,EAAoB,MAAM,EAAN,CAApB,CAFsB;;;;;;;AAItB,mCAAiB,MAAM,KAAN,CAAY,GAAZ,2BAAjB,wGAAkC;mBAAzB,oBAAyB;;AACvC,mBAAI,CAAC,KAAK,CAAL,CAAD,EAAU;AACZ,yBAAQ,GAAR,CAAY,aAAZ,EADY;AAEZ,uBAFY;gBAAd;AAIO,mBAAI,UAAU,KAAK,QAAL,CAAc,KAAK,CAAL,EAAQ,KAAR,CAAxB,CAL4B;AAMhC,mBAAI,SAAO,mBAAS,OAAO,MAAP,CAAc,KAAd,EAAqB,CAArB,CAAT,EAAkC,QAAQ,MAAR,CAAe,IAAf,EAAqB,KAAK,CAAL,EAAQ,EAAR,CAAvD,CAAP,CAN4B;AAOhC,oBAAK,UAAL,CAAgB,OAAK,GAAL,CAAhB,CAPgC;AAQhC,mBAAI,OAAK,IAAL,EAAJ,EAAiB;AACf,wBAAK,MAAL,GADe;AAEf,sBAAK,MAAL,CAAY,IAAZ,CAAiB,MAAjB,EAFe;gBAAjB,MAGO;AACL,sBAAK,aAAL,CAAmB,OAAK,GAAL,CAAnB,CADK;gBAHP;cARF;;;;;;;;;;;;;;YAJsB;;;;;;;AAoBtB,mCAAiB,MAAM,KAAN,CAAY,QAAZ,2BAAjB,wGAAuC;mBAA9B,oBAA8B;;AACrC,uBAAQ,GAAR,CAAY,IAAZ,EADqC;AAE5C,mBAAI,CAAC,KAAK,CAAL,CAAD,EAAU;AACZ,yBAAQ,GAAR,CAAY,aAAZ,EADY;AAEZ,uBAFY;gBAAd;AAIO,mBAAI,UAAU,KAAK,QAAL,CAAc,KAAK,CAAL,EAAQ,KAAR,CAAxB,CANiC;AAOrC,mBAAI,SAAO,mBAAS,OAAO,MAAP,CAAc,UAAd,EAA0B,CAA1B,CAAT,EAAuC,QAAQ,MAAR,CAAe,SAAf,EAA0B,CAA1B,CAAvC,CAAP,CAPiC;AAQrC,oBAAK,UAAL,CAAgB,OAAK,GAAL,CAAhB,CARqC;;AAUrC,mBAAI,OAAK,IAAL,EAAJ,EAAiB;AACf,wBAAK,MAAL,GADe;AAEf,sBAAK,MAAL,CAAY,IAAZ,CAAiB,MAAjB,EAFe;gBAAjB,MAGO;AACL,sBAAK,aAAL,CAAmB,OAAK,GAAL,CAAnB,CADK;gBAHP;cAVF;;;;;;;;;;;;;;YApBsB;UAAxB;;;;;;;;;;;;;;QAjBa;;;;2BAyDT;AACJ,WAAI,QAAQ,KAAK,QAAL,CAAc,CAAd,CAAR;WAA0B,gBAA9B;WAAoC,cAApC;WAAwC,oBAAxC,CADI;AAEJ,eAAQ,GAAR,CAAY,KAAZ;;;;;;AAFI,UAQD;AACD,oBAAW,KAAK,OAAL,CAAa,MAAM,SAAN,CAAxB,CADC;AAED,gBAAO,SAAS,QAAT,CAAkB,IAAlB,CAAuB,KAAvB,EAA8B,KAAK,QAAL,CAAc,IAAd,CAAmB,IAAnB,CAA9B,CAAP;;AAFC,WAID,GAAK,KAAC,CAAM,MAAN,CAAa,UAAb,EAAyB,IAAzB,EAA+B,KAA/B,CAAqC,CAArC,CAAD,GACC,KAAC,CAAM,MAAN,CAAa,UAAb,EAAyB,IAAzB,EAA+B,KAA/B,CAAqC,CAArC,CAAD,CAA0C,KAA1C,GACE,IAFH,CAJJ;AAOD,iBAAQ,KAAK,QAAL,CAAc,EAAd,CAAR,CAPC;AAQD,iBAAQ,GAAR,CAAY,QAAZ,EAAsB,IAAtB,EAA4B,KAA5B,EARC;QAAH,QASQ,KATR,EARI;;;;+BAmBI;;;mCApOW,MAAM,OAAO;AAChC,WAAI,KAAK,SAAS,eAAT,CAAyB,4BAAzB,EAAuD,IAAvD,CAAL,CAD4B;;AAGhC,YAAK,IAAI,GAAJ,IAAW,KAAhB;AAAuB,YAAG,YAAH,CAAgB,GAAhB,EAAqB,MAAM,GAAN,CAArB;QAAvB,OAEO,EAAP,CALgC;;;;UA5Gf;;;;;;;;;;;;;;mBCDG;;;;;;;;AAAT,UAAS,IAAT,CAAc,EAAd,EAAkB,EAAlB,EAAsB;AACnC,QAAK,GAAL,GAAW,qBAAc,MAAd,EAAsB,EAAE,QAAQ,KAAR,EAAe,gBAAgB,CAAhB,EAAmB,MAAM,MAAN,EAAc,SAAS,GAAT,EAAxE,CAAX,CADmC;AAEnC,QAAK,GAAL,CAAS,IAAT,GAAgB,MAAhB,CAFmC;AAGnC,QAAK,GAAL,CAAS,OAAT,GAAmB,IAAnB,CAHmC;AAInC,QAAK,IAAL,GAAY,EAAZ,CAJmC;AAKnC,QAAK,IAAL,GAAY,EAAZ,CALmC;AAMnC,QAAK,SAAL,GAAiB,KAAjB,CANmC;AAOnC,QAAK,SAAL,GAAiB,SAAjB,CAPmC;;AASnC,UAAO,IAAP,CATmC;EAAtB;;;;AAcf,MAAK,aAAL,GAAqB,UAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,MAAjB;UACnB,CAAE,GAAF,EAAO,EAAP,EAAW,EAAX,EACE,GADF,EACO,KAAK,MAAL,EAAa,EADpB,EACwB,KAAK,MAAL,EAAa,EADrC,EACyC,EADzC,EAC6C,EAD7C,EAEE,IAFF,CAEO,GAFP;EADmB;;AAKrB,MAAK,IAAL,GAAY,UAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb;UAAoB,KAAK,IAAL,CAAU,KAAK,GAAL,CAAS,KAAK,EAAL,EAAS,CAAlB,IAAuB,KAAK,GAAL,CAAS,KAAK,EAAL,EAAS,CAAlB,CAAvB;EAA9B;;AAEZ,MAAK,SAAL,GAAiB;AACf,6BAAQ,IAAI,IAAI,KAAK;AACnB,WAAM,MAAM,CAAC,CAAD,GAAK,CAAX,CADa;AAEnB,SAAI,SAAS,KAAK,IAAL,CAAU,GAAG,CAAH,EAAM,GAAG,CAAH,EAAM,GAAG,CAAH,EAAM,GAAG,CAAH,CAA5B,GAAkC,CAAlC,CAFM;AAGnB,SAAI,IAAI,KAAK,aAAL,CAAmB,GAAG,CAAH,EAAM,GAAG,CAAH,EAAM,GAAG,CAAH,EAAM,GAAG,CAAH,EAAM,SAAO,GAAP,CAA/C,CAHe;AAInB,UAAK,GAAL,CAAS,YAAT,CAAsB,GAAtB,EAA2B,CAA3B,EAJmB;IADN;AAOf,yBAAO;AACL,SAAG,KAAK,IAAL,CAAU,GAAV,IAAiB,KAAK,IAAL,CAAU,GAAV,EAAe,OAAO,KAAP,CAAnC;AACA,SAAI,WAAW,KAAK,IAAL,CAAU,MAAV,CAFV;AAGL,SAAI,WAAW,KAAK,IAAL,CAAU,MAAV,CAHV;;AAKL,SAAG,KAAK,IAAL,CAAU,MAAV,CAAiB,KAAK,IAAL,CAApB,EAAgC;AAC9B,gBAAS,KAAT,CAAe,IAAf,CAAoB,IAApB,EAD8B;AAE9B,gBAAS,KAAT,CAAe,IAAf,CAAoB,IAApB,EAF8B;AAG9B,cAAO,IAAP,CAH8B;MAAhC,MAIO;AACL,cAAO,KAAP,CADK;MAJP;IAZa;AAqBf,8BAAS;AACP,SAAI,WAAW,KAAK,IAAL,CAAU,MAAV,CADR;AAEP,SAAI,WAAW,KAAK,IAAL,CAAU,MAAV,CAFR;AAGP,mBAAc,SAAS,KAAT,EAAgB,IAA9B,EAHO;AAIP,mBAAc,SAAS,KAAT,EAAgB,IAA9B,EAJO;AAKP,UAAK,IAAL,CAAU,OAAV,CAAkB,KAAK,IAAL,CAAlB,CALO;AAMP,UAAK,GAAL,CAAS,UAAT,CAAoB,WAApB,CAAgC,KAAK,GAAL,CAAhC,CANO;IArBM;AA6Bf,6BAAS;AACP,UAAK,OAAL,CAAa,KAAK,IAAL,CAAU,QAAV,EAAb,EAAmC,KAAK,IAAL,CAAU,QAAV,EAAnC,EAAyD,KAAK,SAAL,CAAzD,CADO;IA7BM;EAAjB;;AAoCA,UAAS,aAAT,CAAuB,GAAvB,EAA4B,GAA5B,EAAiC;AAC/B,OAAI,QAAQ,IAAI,OAAJ,CAAY,GAAZ,CAAR,CAD2B;AAE/B,WAAQ,GAAR,CAAY,KAAZ,EAF+B;AAG/B,OAAI,SAAS,CAAC,CAAD,EAAI;AACf,SAAI,MAAJ,CAAW,KAAX,EAAkB,CAAlB,EADe;AAEf,YAAO,IAAP,CAFe;IAAjB;AAIA,UAAO,KAAP,CAP+B;;;;;;;;;;;;mBC3DT;AAAT,UAAS,aAAT,CAAuB,IAAvB,EAA6B,KAA7B,EAAoC;AACjD,OAAI,KAAK,SAAS,eAAT,CAAyB,4BAAzB,EAAuD,IAAvD,CAAL,CAD6C;;AAGjD,QAAK,IAAI,GAAJ,IAAW,KAAhB;AAAuB,QAAG,YAAH,CAAgB,GAAhB,EAAqB,MAAM,GAAN,CAArB;IAAvB,OAEO,EAAP,CALiD;;;;;;;;;;;;mBCG3B;;;;;;;;;;AAAT,UAAS,KAAT,OAAgE;OAA/C,yBAA+C;OAArC,mBAAqC;OAA9B,mBAA8B;OAAvB,iBAAuB;OAAjB,eAAiB;OAAZ,aAAY;OAAR,WAAQ;OAAL,WAAK;;AAC7E,QAAK,GAAL,GAAW,4BAAa,UAAU,CAAV,CAAb,CAAX,CAD6E;AAE7E,QAAK,GAAL,CAAS,OAAT,GAAmB,IAAnB;;;AAF6E,OAK7E,CAAK,QAAL,GAAgB,QAAhB,CAL6E;AAM7E,QAAK,UAAL,GAAkB,IAAlB,CAN6E;AAO7E,QAAK,SAAL,GAAiB,EAAjB,CAP6E;AAQ7E,QAAK,CAAL,GAAS,KAAK,CAAL,CARoE;AAS7E,QAAK,CAAL,GAAS,KAAK,CAAL,CAToE;;AAW7E,QAAK,MAAL,GAAc;AACZ,SAAI,EAAJ;AACA,UAAK,EAAL;IAFF,CAX6E;;AAgB7E,QAAK,KAAL,GAAa,EAAb,CAhB6E;;AAkB7E,QAAK,IAAL,GAAY,EAAE,WAAW,EAAX,EAAd,CAlB6E;AAmB7E,QAAK,OAAL,GAAe,EAAE,UAAU,KAAV,EAAjB,CAnB6E;;AAqB7E,gBAAa,IAAb,CAAkB,IAAlB,EAAwB,KAAxB,EArB6E;;AAuB7E,UAAO,IAAP,CAvB6E;EAAhE;;AA0Bf,OAAM,SAAN,GAAkB;AAChB,OAAI,IAAJ,GAAY;AAAE,YAAO,KAAK,QAAL,EAAP,CAAF;IAAZ;AACA,OAAI,IAAJ,GAAW;AAAE,YAAO,KAAK,GAAL,CAAS,cAAT,CAAwB,MAAxB,CAAP,CAAF;IAAX;AACA,OAAI,IAAJ,GAAW;AAAE,YAAO,OAAO,KAAK,GAAL,CAAd,CAAF;IAAX;AACA,OAAI,CAAJ,GAAS;AAAE,YAAO,KAAK,GAAL,CAAS,YAAT,CAAsB,GAAtB,IAA6B,CAA7B,CAAT;IAAT;AACA,OAAI,CAAJ,GAAS;AAAE,YAAO,KAAK,GAAL,CAAS,YAAT,CAAsB,GAAtB,IAA6B,CAA7B,CAAT;IAAT;AACA,OAAI,IAAJ,GAAY;AAAE,YAAO,KAAK,GAAL,CAAS,SAAT,CAAT;IAAZ;AACA,OAAI,CAAJ,CAAO,GAAP,EAAY;AAAE,YAAO,KAAK,GAAL,CAAS,YAAT,CAAsB,GAAtB,EAA2B,GAA3B,CAAP,CAAF;IAAZ;AACA,OAAI,CAAJ,CAAO,GAAP,EAAY;AAAE,YAAO,KAAK,GAAL,CAAS,YAAT,CAAsB,GAAtB,EAA2B,GAA3B,CAAP,CAAF;IAAZ;AACA,OAAI,IAAJ,CAAU,GAAV,EAAe;AAAE,YAAQ,KAAK,GAAL,CAAS,SAAT,GAAqB,GAArB,CAAV;IAAf;;AAEA,uBAAK,KAAK,OAAO;AACf,SAAI,KAAJ,EAAW,OAAO,KAAK,GAAL,CAAS,YAAT,CAAsB,GAAtB,EAA2B,KAA3B,CAAP,CAAX,KACK,IAAI,GAAJ,EAAS,OAAO,KAAK,GAAL,CAAS,YAAT,CAAsB,GAAtB,CAAP,CAAT;IAbS;AAehB,6BAAS;AACP,UAAK,GAAL,CAAS,UAAT,CAAoB,WAApB,CAAgC,KAAK,GAAL,CAAhC,CADO;AAEP,YAAO,IAAP,CAFO;IAfO;AAmBhB,yCAAe,EAnBC;AAsBhB,8BAAS;AACP,UAAK,KAAL,CAAW,OAAX,CAAoB;cAAQ,KAAK,MAAL;MAAR,CAApB,CADO;AAEP,UAAK,MAAL,GAFO;IAtBO;AA0BhB,uCAAc;AACZ,UAAK,KAAL,CAAW,OAAX,CAAoB;cAAQ,KAAK,MAAL;MAAR,CAApB,CADY;IA1BE;AA6BhB,+BAAS,IAAI;;AAEX,SAAI,OAAO,EAAP,CAFO;AAGX,SAAI,KAAK,KAAK,MAAL,CAAY,EAAZ,CAHE;;AAKX,UAAK,IAAI,IAAI,CAAJ,EAAO,IAAI,GAAG,MAAH,EAAW,GAA/B,EAAoC;AAClC,YAAK,IAAL,CAAU,EAAV,EADkC;AAElC,YAAK,IAAI,IAAI,CAAJ,EAAO,IAAI,GAAG,CAAH,EAAM,MAAN,EAAc,GAAlC;AACE,cAAK,CAAL,EAAQ,IAAR,CAAa,GAAG,CAAH,EAAM,CAAN,EAAS,KAAT,EAAb;QADF;MAFF;;AAMA,SAAI,EAAJ,EAAQ,OAAO,IAAC,CAAK,SAAL,CAAe,IAAf,CAAD,CAAuB,EAAvB,CAAP,CAAR,KACQ,OAAO,KAAK,SAAL,CAAe,IAAf,CAAP,CADR;IAxCc;EAAlB;;AA6CA,UAAS,MAAT,CAAgB,EAAhB,EAAoB;AAClB,OAAG,GAAG,UAAH,CAAc,QAAd,KAA2B,KAA3B,EAAkC;AACnC,YAAO,GAAG,UAAH,CAD4B;IAArC;AAGA,UAAO,OAAO,GAAG,UAAH,CAAd,CAJkB;EAApB;;AAOA,UAAS,YAAT,GAAqF;qEAAJ,kBAAI;;6BAA7D,QAA6D;OAA7D,wCAAU,kBAAmD;8BAAhD,SAAgD;OAAhD,0CAAW,mBAAqC;6BAAlC,QAAkC;OAAlC,wCAAU,kBAAwB;8BAArB,SAAqB;OAArB,0CAAW,mBAAU;;AACnF,OAAI,SAAS,EAAT,CAD+E;AAEnF,OAAI,OAAO,EAAP;AAF+E,OAG/E,cAAc,GAAd,CAH+E;AAInF,OAAI,QAAQ,KAAK,MAAL,CAJuE;AAKnF,OAAI,OAAO,KAAK,IAAL;;AALwE,OAO/E,UAAW,KAAK,qBAAL,EAAX,CAP+E;AAQnF,OAAI,WAAW,KAAK,GAAL,CAAS,UAAU,OAAV,EAAmB,WAAW,QAAX,CAAvC;;AAR+E,OAU/E,SAAS,SAAS,cAAY,CAAZ;AAV6D,OAW/E,UAAU,OAAO,MAAP,CAXqE;AAYnF,OAAI,SAAS,CAAC,OAAO,SAAS,CAAT,CAAR,GAAsB,QAAtB,GAAiC,IAAjC;AAZsE,OAa/E,QAAQ,KAAK,YAAL,CAAkB,OAAlB,IAA6B,CAA7B,CAbuE;;AAenF,QAAK,MAAL,CAAY,EAAZ,GAAiB,EAAjB,CAfmF;AAgBnF,QAAK,MAAL,CAAY,GAAZ,GAAkB,EAAlB,CAhBmF;AAiBnF,QAAK,MAAL,CAAY,OAAZ,GAAsB,EAAtB,CAjBmF;AAkBnF,QAAK,MAAL,CAAY,QAAZ,GAAuB,EAAvB,CAlBmF;;AAoBnF,QAAK,YAAL,CAAkB,QAAlB,EAA4B,MAA5B,EApBmF;;AAsBnF,OAAI,QAAQ,EAAE,IAAI,IAAJ,EAAU,GAAG,MAAH,EAAW,MAAM,SAAN,EAAiB,QAAQ,OAAR,EAAiB,gBAAgB,WAAhB,EAAjE,CAtB+E;AAuBnF,OAAI,aAAa,EAAE,IAAI,IAAJ,EAAU,GAAG,MAAH,EAAW,MAAM,SAAN,EAAiB,QAAQ,OAAR,EAAiB,gBAAgB,WAAhB,EAAtE,CAvB+E;AAwBnF,OAAI,CAAJ,EAAO,CAAP,EAAU,EAAV;;;AAxBmF,KA2BnF,GAAK,UAAQ,UAAU,OAAV,CAAR,CA3B8E;AA4BnF,OAAI,KAAG,CAAH,CA5B+E;;AA8BnF,QAAK,IAAI,CAAJ,EAAO,IAAI,OAAJ,EAAa,KAAK,KAAG,EAAH,EAAO;AACnC,SAAI,OAAO,oBAAa,CAAb,EAAgB,IAAhB,EAAsB,IAAtB,CAAP,CAD+B;AAEnC,UAAK,IAAL,CAAU,IAAV,EAAgB,MAAhB,EAFmC;AAGnC,UAAK,IAAL,CAAU,IAAV,EAAgB,CAAhB,EAHmC;AAInC,WAAM,OAAN,CAAc,IAAd,CAAmB,IAAnB,EAJmC;AAKnC,UAAK,GAAL,CAAS,WAAT,CAAqB,KAAK,GAAL,CAArB,CALmC;IAArC;;AAQA,QAAK,IAAI,CAAJ,EAAO,IAAI,OAAJ,EAAa,KAAK,KAAG,EAAH,EAAO;AACnC,SAAI,OAAO,oBAAa,CAAb,EAAgB,IAAhB,EAAsB,IAAtB,CAAP,CAD+B;AAEnC,UAAK,IAAL,CAAU,IAAV,EAAgB,MAAhB,EAFmC;AAGnC,UAAK,IAAL,CAAU,IAAV,EAAgB,CAAhB,EAHmC;AAInC,WAAM,EAAN,CAAS,IAAT,CAAc,IAAd,EAJmC;AAKnC,UAAK,GAAL,CAAS,WAAT,CAAqB,KAAK,GAAL,CAArB,CALmC;IAArC;;AAQA,QAAK,UAAQ,WAAW,QAAX,CAAR,CA9C8E;AA+CnF,OAAI,KAAG,CAAH;;;AA/C+E,QAkD9E,IAAI,CAAJ,EAAO,IAAI,QAAJ,EAAc,KAAK,KAAG,EAAH,EAAO;AACpC,SAAI,OAAO,oBAAa,CAAb,EAAgB,KAAhB,EAAuB,IAAvB,CAAP,CADgC;AAEpC,UAAK,IAAL,CAAU,IAAV,EAAgB,QAAQ,MAAR,CAAhB,CAFoC;AAGpC,UAAK,IAAL,CAAU,IAAV,EAAgB,CAAhB,EAHoC;AAIpC,WAAM,QAAN,CAAe,IAAf,CAAoB,IAApB,EAJoC;AAKpC,UAAK,GAAL,CAAS,WAAT,CAAqB,KAAK,GAAL,CAArB,CALoC;IAAtC;;AAQA,QAAK,IAAI,CAAJ,EAAO,IAAI,QAAJ,EAAc,KAAK,KAAG,EAAH,EAAO;AACpC,SAAI,OAAO,oBAAa,CAAb,EAAgB,KAAhB,EAAuB,IAAvB,CAAP,CADgC;AAEpC,UAAK,IAAL,CAAU,IAAV,EAAgB,QAAQ,MAAR,CAAhB,CAFoC;AAGpC,UAAK,IAAL,CAAU,IAAV,EAAgB,CAAhB,EAHoC;AAIpC,WAAM,GAAN,CAAU,IAAV,CAAe,IAAf,EAJoC;AAKpC,UAAK,GAAL,CAAS,WAAT,CAAqB,KAAK,GAAL,CAArB,CALoC;IAAtC;;;;;;;;;;;;SCzIc;SAYA;;;;;;;;AAZT,UAAS,QAAT,CAAkB,EAAlB,EAAsB,GAAtB,EAA2B,KAA3B,EAAkC;AACvC,kBAAK,IAAL,CAAU,IAAV,EAAgB,EAAE,MAAF,EAAM,QAAN,EAAW,YAAX,EAAkB,MAAM,MAAN,EAAlC,EADuC;;AAGvC,OAAI,OAAO,EAAE,MAAM,QAAN,EAAT,CAHmC;;AAKvC,UAAO,IAAP,CALuC;EAAlC;;AAQP,UAAS,SAAT,GAAqB;AACnB,cAAW,OAAO,MAAP,CAAc,eAAK,SAAL,CAAzB;EADF;;AAIO,UAAS,QAAT,CAAkB,EAAlB,EAAsB,GAAtB,EAA2B,KAA3B,EAAkC;AACvC,kBAAK,IAAL,CAAU,IAAV,EAAgB,EAAE,MAAF,EAAM,QAAN,EAAW,YAAX,EAAkB,MAAM,MAAN,EAAlC,EADuC;;AAGvC,QAAK,OAAL,GAAe,CAAf,CAHuC;;AAKvC,QAAK,GAAL,CAAS,YAAT,CAAsB,MAAtB,EAA8B,SAA9B,EALuC;;AAOvC,OAAI,OAAO,EAAE,MAAM,SAAN,EAAT,CAPmC;;AASvC,UAAO,IAAP,CATuC;EAAlC;;AAYP,UAAS,SAAT,GAAqB;AACnB,cAAW,OAAO,MAAP,CAAc,eAAK,SAAL,CAAzB;EADF,C;;;;;;;;;;;mBCxBwB;;;;;;;;AAAT,UAAS,IAAT,OAAwC;OAAxB,aAAwB;OAApB,iBAAoB;OAAd,eAAc;OAAT,mBAAS;;AACrD,OAAI,CAAC,IAAD,EAAM,KAAN,EAAa,OAAb,CAAqB,GAArB,KAA6B,CAAC,CAAD,EAAI,MAAM,sCAAN,CAArC;AACA,OAAI,CAAC,MAAD,EAAQ,MAAR,EAAgB,OAAhB,CAAwB,IAAxB,KAAiC,CAAC,CAAD,EAAI,MAAM,+BAAN,CAAzC;;AAFqD,OAIjD,QAAQ,EAAE,GAAG,EAAH,EAAO,MAAM,SAAN,EAAiB,QAAQ,OAAR,EAAiB,gBAAgB,GAAhB,EAAnD;;;AAJiD,OAOrD,CAAK,GAAL,GAAW,qBAAc,QAAd,EAAwB,KAAxB,CAAX,CAPqD;AAQrD,QAAK,GAAL,CAAS,OAAT,GAAmB,IAAnB,CARqD;AASrD,QAAK,GAAL,CAAS,IAAT,GAAgB,MAAhB,CATqD;AAUrD,QAAK,GAAL,CAAS,GAAT,GAAe,GAAf,CAVqD;;AAYrD,QAAK,MAAL,GAAc,KAAd,CAZqD;AAarD,QAAK,OAAL,GAAe,CAAf,CAbqD;AAcrD,QAAK,KAAL,GAAa,EAAb,CAdqD;AAerD,QAAK,EAAL,GAAU,EAAV,CAfqD;AAgBrD,QAAK,IAAL,GAAY,IAAZ,CAhBqD;AAiBrD,QAAK,GAAL,GAAW,GAAX;;AAjBqD,UAmB9C,IAAP,CAnBqD;EAAxC;;AAsBf,MAAK,SAAL,GAAiB;AACf,OAAI,CAAJ,GAAS;AAAE,YAAO,KAAK,IAAL,CAAU,IAAV,IAAiB,CAAjB,CAAT;IAAT;AACA,OAAI,CAAJ,GAAS;AAAE,YAAO,KAAK,IAAL,CAAU,IAAV,IAAiB,CAAjB,CAAT;IAAT;AACA,OAAI,SAAJ,GAAiB;AAAE,YAAO,KAAK,KAAL,CAAW,MAAX,GAAoB,KAAK,OAAL,CAA7B;IAAjB;AACA,uBAAK,KAAK,OAAO;AACf,SAAG,KAAH,EAAU,OAAO,KAAK,GAAL,CAAS,YAAT,CAAsB,GAAtB,EAA2B,KAA3B,CAAP,CAAV,KACK,OAAO,KAAK,GAAL,CAAS,YAAT,CAAsB,GAAtB,CAAP,CADL;IALa;AAQf,2BAAQ;AACN,UAAK,MAAL,CAAY,QAAZ;;AADM,IARO;AAYf,iCAAW;AACT,YAAO,EAAE,GAAG,KAAK,MAAL,CAAY,CAAZ,GAAgB,KAAK,CAAL,EAAQ,GAAG,KAAK,MAAL,CAAY,CAAZ,GAAgB,KAAK,CAAL,EAAvD,CADS;IAZI;AAef,2BAAO,IAAI;AACT,SAAG,KAAK,SAAL,CAAe,EAAf,CAAH,EAAuB;AACrB,YAAK,KAAL,CAAW,IAAX,CAAgB,EAAE,OAAO,GAAG,MAAH,CAAU,GAAV,EAAe,IAAI,GAAG,EAAH,EAA5C,EADqB;AAErB,UAAG,KAAH,CAAS,IAAT,CAAc,EAAE,OAAO,KAAK,MAAL,CAAY,GAAZ,EAAiB,IAAI,KAAK,EAAL,EAA5C;;AAFqB,cAId,IAAP,CAJqB;MAAvB;AAMA,YAAO,KAAP,CAPS;IAfI;AAwBf,6BAAQ,IAAI;AACV,SAAI,SAAS,KAAK,KAAL,CAAW,OAAX,CAAmB,EAAE,OAAO,GAAG,MAAH,CAAU,GAAV,EAAe,IAAI,GAAG,EAAH,EAA/C,CAAT,CADM;AAEV,SAAI,SAAS,KAAK,KAAL,CAAW,OAAX,CAAmB,EAAE,OAAO,KAAK,MAAL,CAAY,GAAZ,EAAiB,IAAI,KAAK,EAAL,EAAjD,CAAT,CAFM;AAGV,UAAK,KAAL,CAAW,MAAX,CAAkB,MAAlB,EAA0B,CAA1B,EAHU;AAIV,QAAG,KAAH,CAAS,MAAT,CAAgB,MAAhB,EAAwB,CAAxB,EAJU;IAxBG;AA+Bf,iCAAU,IAAI;AACZ,YAAO,IAAC,CAAK,SAAL,IAAkB,GAAG,SAAH,IAAgB,KAAK,IAAL,KAAc,GAAG,IAAH,GAAW,IAA5D,GAAmE,KAAnE,CADK;IA/BC;EAAjB;;;;;;;;;;;;;mBCrBwB;;;;;;;;;AAAT,UAAS,YAAT,OAAwG;OAAhF,+BAAgF;OAAnE,6BAAmE;OAAvD,mBAAuD;OAAhD,uBAAgD;OAAvC,qBAAuC;OAA/B,aAA+B;OAA3B,aAA2B;OAAvB,iBAAuB;OAAjB,qBAAiB;OAAT,mBAAS;;;AAEnH,iBAAc,eAAe,CAAf,CAFqG;AAGnH,gBAAa,cAAc,EAAd,CAHsG;AAInH,WAAQ,SAAS,GAAT,CAJ2G;AAKnH,aAAU,WAAW,CAAX,CALyG;AAMnH,YAAS,UAAU,EAAV,CAN0G;AAOnH,QAAK,MAAM,EAAN,CAP8G;AAQnH,QAAK,MAAM,EAAN,CAR8G;AASnH,UAAO,QAAQ,SAAR,CAT4G;AAUnH,YAAS,SAAT,CAVmH;;AAYnH,OAAI,MAAM,qBAAc,KAAd,CAAN,CAZ+G;;AAcnH,OAAI,QAAQ;AACV,QAAG,aAAa,cAAY,CAAZ;AAChB,QAAG,cAAY,CAAZ;AACH,iBAHU;AAIV,mBAJU;AAKV,WALU;AAMV,WANU;AAOV,qBAAgB,WAAhB;AACA,uBAAgB,sBAAiB,yBAAoB,aAArD;AACA,YAAO,cAAP;AACA,SAAI,MAAJ;IAVE,CAd+G;;AA2BnH,OAAI,OAAO,qBAAc,MAAd,EAAsB,KAAtB,CAAP,CA3B+G;AA4BnH,QAAK,IAAL,GAAY,OAAZ,CA5BmH;AA6BnH,OAAI,OAAO,qBAAc,MAAd,EAAsB,EAAE,GAAG,EAAH,EAAO,GAAG,EAAH,EAAO,OAAO,iBAAP,EAAtC,CAAP,CA7B+G;AA8BnH,QAAK,IAAL,GAAY,OAAZ,CA9BmH;AA+BnH,OAAI,UAAU,SAAS,cAAT,CAAwB,KAAxB,CAAV,CA/B+G;AAgCnH,QAAK,WAAL,CAAiB,OAAjB,EAhCmH;;AAkCnH,OAAI,WAAJ,CAAgB,IAAhB,EAlCmH;AAmCnH,OAAI,WAAJ,CAAgB,IAAhB,EAnCmH;AAoCnH,UAAO,GAAP,CApCmH;EAAxG;;AAwCf,cAAa,SAAb,GAAyB,EAAzB;;AAIA,KAAI,OAAO;AACT,SAAM,SAAN;AACA,WAAQ,SAAR;AACA,UAAO,EAAE,SAAS,CAAT,EAAY,UAAU,CAAV,EAAa,SAAS,CAAT,EAAY,UAAU,CAAV,EAA9C;AACA,UAAO,YAAP;AACA,SAAM,cAAN;AACA,QAAK,CACH,EAAE,MAAM,QAAN,EAAgB,SAAS,CAAC,KAAD,EAAQ,IAAR,EAAc,KAAd,CAAT,EADf,EAEH,EAAE,MAAM,MAAN,EAFC,EAGH,EAAE,MAAM,QAAN,EAHC,CAAL;;EANE,C","file":"sticky.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Sticky\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Sticky\"] = factory();\n\telse\n\t\troot[\"Sticky\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 7199f49f22f9490efb89\n **/","import Wire from './Wire.js';\nimport Brick from './Brick.js';\n\nexport default class Sticky {\n  constructor(id) {\n    this.el = document.getElementById(id);\n    if(!this.el) throw \"Couldn't find element :(\";\n    let svg = Sticky.createElement('svg', { class: 'svg-content', viewBox: \"0 0 800 600\", preserveAspectRatio: \"xMidYMid meet\" });\n    // let svg = Sticky.createElement('svg', { class: 'svg-content', width: 800, height: 400 });\n    this._uid = 0;\n    this._aux = {};\n    this._blocks = {};\n    this._objects = [];\n    this._wires = [];\n    this._state = null;\n\n    let lastDownTarget;\n\n    svg.addEventListener('mousedown', e => {\n      // lastDownTarget = svg;\n      this.lastSelected = null;\n      if (e.target.type === 'wire') {\n        this.lastSelected = e.target.wrapper;\n        return this.selectedWire = e.target.wrapper;\n      }\n      if (e.target.type === 'port' && e.target.dir === 'out') {\n        return this.startAttach(e.target);\n      }\n\n      if (e.target.type === 'block' || e.target.type === 'title') {\n        this.lastSelected = e.target.parentNode.wrapper;\n        this.dragging = e.target.parentNode;\n        var wrapper = this.dragging.wrapper;\n        var SVGbox = wrapper._svg.getBoundingClientRect();\n        var OffsetX = e.x - SVGbox.left;\n        var OffsetY =  e.y - SVGbox.top;\n        this._aux.mouseDown = { x: OffsetX - wrapper.x, y: OffsetY - wrapper.y };\n        this._svg.appendChild(this.dragging);\n        wrapper.wires.forEach(wire => this._svg.appendChild(wire._el));\n      }\n\n    }, false);\n\n\n    document.addEventListener('mousedown', e => {\n      // lastDownTarget = e.target;\n      // console.log(lastDownTarget);\n    }, false);\n\n    document.addEventListener('keydown', e => {\n      // if (lastDownTarget == svg) {\n      if (e.keyCode == 46) {\n        console.log(this.lastSelected);\n        this.lastSelected.delete();\n      }\n    }, false);\n\n    svg.addEventListener('keydown', e => {\n      console.log(e);\n    }, false);\n\n    svg.addEventListener('mouseup', e => {\n      this.dragging = null;\n      if(e.target.type === 'port')\n        return this.endAttach(e.target);\n\n      if(this.isState('attaching')) {\n        this.setState(null)\n        svg.removeChild(this._aux['wire']._el);\n      }\n    });\n\n    svg.addEventListener('mousemove', e => {\n      return this.attachMove(e);\n    });\n\n    svg.addEventListener('mousemove', e => {\n      if (this.dragging) {\n        var wrapper = this.dragging.wrapper;\n        var SVGbox = wrapper._svg.getBoundingClientRect();\n        var OffsetX = e.x - SVGbox.left;\n        var OffsetY =  e.y - SVGbox.top;\n\n        var firstState = this._aux.mouseDown;\n        wrapper.x = OffsetX - firstState.x;\n        wrapper.y = OffsetY - firstState.y;\n        wrapper.updateWires();\n      }\n    });\n\n    this._svg = svg;\n    this.el.appendChild(this._svg);\n\n    this.registerBlock('start', {\n      width: 35, height: 60, rx: 10, ry: 10, fill: '#AF2B37', ports: { data_in: 0, data_out: 0, flow_in: 0, flow_out: 1 },\n      title: '',\n      icon: 'img/icon.png',\n      behavior: () => 0\n    });\n    // this.registerBlock('actuator', ActuatorBrick);\n\n    this.clearCanvas();\n\n    this.colors = [\"#B8D430\", \"#3AB745\", \"#029990\", \"#3501CB\",\n                   \"#2E2C75\", \"#673A7E\", \"#CC0071\", \"#F80120\",\n                   \"#F35B20\", \"#FB9A00\", \"#FFCC00\", \"#FEF200\"];\n\n    return this;\n  }\n\n//static methods\n  static createElement(name, attrs) {\n    var el = document.createElementNS('http://www.w3.org/2000/svg', name);\n\n    for (let key in attrs) el.setAttribute(key, attrs[key]);\n\n    return el;\n  }\n  Brick(name, attrs) {\n    var el = Sticky.createElement(name, attrs);\n    var brick = new Brick(el, this);\n    brick._id = this._uid++;\n    this._objects.push(brick);\n\n    return brick;\n  }\n  addObj(obj) {\n    if (obj._id == null) obj._id = this._uid++;\n    this._objects.push(obj);\n    this.addElement(obj._el);\n  }\n  removeObj(obj, update) {\n    let index = this._objects.indexOf(obj);\n    if (index == -1) return;\n\n    for (let port_type of Object.keys(obj._ports)) {\n      if (obj._ports[port_type][0]) { // if there's any connection\n        for (let port of obj._ports[port_type]) {\n          // port.dettach(); \n\t}\n      }\n    }\n\n    for (let wire of obj.wires) {\n      wire.delete();\n    }\n    \n    this.removeElement(obj._el);\n    if (update)\n      return this._objects.splice(index, 1);\n  }\n  addElement(el) {\n    this._svg.appendChild(el);\n  }\n  removeElement(el) {\n    this._svg.removeChild(el);\n  }\n  startAttach(port) {\n    let wire = new Wire(port.wrapper);\n    wire._inverted = port.wrapper.dir === 'in';\n    this.setState('attaching');\n    this._aux['wire'] = wire;\n    this.addElement(wire._el);\n  }\n  startDrag(port) {\n    this.setState('attaching');\n    this._aux['wire'] = wire;\n    this.addElement(wire._el);\n  }\n  endAttach(port) {\n    if (this.isState('attaching')) {\n      this.setState(null);\n      var wire = this._aux['wire'];\n      wire._cp2 = port.wrapper;\n\n      if (wire.seal()) {\n        wire.render();\n        this._wires.push(wire);\n      } else {\n        this.removeElement(wire._el);\n      }\n      delete this._aux['wire'];\n    }\n  }\n  setState(state) {\n    return this._state = state;\n  }\n  isState(state) {\n    return this._state === state;\n  }\n  attachMove(mouse) {\n    if (this.isState('attaching')) {\n      var wire = this._aux['wire'];\n      var SVGbox = this._svg.getBoundingClientRect();\n      //(below) pixel for removing the wire from the way so we can detect the event on port\n      var offset = wire._inverted ? 1 : -1;\n      var mouse = { x: mouse.x - SVGbox.left + offset, y: mouse.y - SVGbox.top };\n      var port = wire._cp1.getPoint();\n\n      wire._render(port, mouse, wire._inverted);\n    }\n  }\n  clearCanvas(start = true) {\n    for (let obj of this._objects) {\n      // this.removeElement(obj._el);\n      this.removeObj(obj, false);\n    }\n\n    this._objects = [];\n\n    if (!start) return;\n\n    var start = this.createBlock('start');\n    start.x = 10; start.y = this._svg.getAttribute('height')/2;\n    start.behavior = () => 0;\n\n    this.addObj(start);\n  }\n  registerBlock(name, obj) {\n    this._blocks[name] = obj;\n    this._blocks[name].id = name;\n\n    if (obj.behavior && (typeof obj.behavior !== 'function')) {\n      this._blocks[name].behavior = new Function('findById', obj.behavior);\n    }\n  }\n  createBlock(name, data = {}) {\n    if (!this._blocks[name]) throw \"Block not registered\";\n    return Object.assign(new Brick(this._blocks[name]), data);\n  }\n  findById(id) {\n    if (id == undefined) return null;\n    for (let obj of this._objects) {\n      if (obj._id === id) return obj;\n    }\n  }\n  toJSON() {\n    var fluxgram = this._objects.map(obj => {\n      let object = {\n        refBlock: obj._refBlock,\n        id: obj._id,\n        x: obj.x,\n        y: obj.y,\n        ports: {} // flow_in, flow_out, in, out\n      };\n\n      for (let type in obj._ports) {\n        console.log(type, obj._ports[type]);\n        object.ports[type] = obj._ports[type].map(port => [...port._conn]);\n      }\n\n      return object;\n    });\n\n    // var refBlock = this._blocks.map(block => ({\n    //   // ...block,\n    //   behavior: block.behavior.toString\n    // }));\n\n    let refBlock = {};\n\n    return { refBlock, fluxgram };\n  }\n  loadJSON(data) {\n    this.clearCanvas(false);\n\n    for (let block of data) {\n      let refBlock = this._blocks[block.refBlock];\n      let obj = this.createBlock(block.refBlock, refBlock);\n      obj.x = block.x;\n      obj.y = block.y;\n      obj.value = block.value;\n      obj._id = block.id;\n      console.log(block.id, obj._id);\n      this.addObj(obj);\n    }\n\n    // load wires\n    // PLEASE REFACTORATE ME\n\n    for (let block of data) {\n      let blocky = this.findById(block.id);\n      console.log(blocky, block.id);\n\n      for (let port of block.ports.out) {\n\tif (!port[0]) {\n\t  console.log('end of flux');\n\t  break;\n\t}\n        let blocky2 = this.findById(port[0].brick);\n        let wire = new Wire(blocky._ports['out'][0], blocky2._ports['in'][port[0].id]);\n        this.addElement(wire._el);\n        if (wire.seal()) {\n          wire.render();\n          this._wires.push(wire);\n        } else {\n          this.removeElement(wire._el);\n        }\n      }\n\n      for (let port of block.ports.flow_out) {\n        console.log(port);\n\tif (!port[0]) {\n\t  console.log('end of flux');\n\t  break;\n\t}\n        let blocky2 = this.findById(port[0].brick);\n        let wire = new Wire(blocky._ports['flow_out'][0], blocky2._ports['flow_in'][0]);\n        this.addElement(wire._el);\n\n        if (wire.seal()) {\n          wire.render();\n          this._wires.push(wire);\n        } else {\n          this.removeElement(wire._el);\n        }\n      }\n\n    }\n  }\n  run() {\n    let block = this._objects[0], flow, id, refBlock;\n    console.log(block);\n\n    // flow = start.behavior();\n    // an ActuatorBrick should return the flow_out port id\n    // it'll be useful for if block\n\n    do {\n      refBlock = this._blocks[block._refBlock];\n      flow = refBlock.behavior.call(block, this.findById.bind(this));\n      // console.log(block._ports);\n      id = (block._ports['flow_out'][flow]._conn[0]) ?\n            (block._ports['flow_out'][flow]._conn[0]).brick :\n              null;\n      block = this.findById(id);\n      console.log(refBlock, flow, block);\n    } while(block);\n  }\n  compile() {\n\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Sticky.js\n **/","import createElement from './utils.js';\n\nexport default function Wire(p1, p2) {\n  this._el = createElement('path', { stroke: 'red', 'stroke-width': 6, fill: 'none', opacity: 0.8 });\n  this._el.type = 'wire';\n  this._el.wrapper = this;\n  this._cp1 = p1;\n  this._cp2 = p2;\n  this._inverted = false;\n  this._behavior = undefined;\n\n  return this;\n}\n\n//static methods\n\nWire.describeJoint = (x1, y1, x2, y2, offset) =>\n  [ \"M\", x1, y1,\n    \"C\", x1 + offset, y1, x2 - offset, y2, x2, y2\n  ].join(\" \");\n\nWire.dt2p = (x1, y1, x2, y2) => Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n\nWire.prototype = {\n  _render(p1, p2, inv) {\n    inv = inv ? -1 : 1;\n    var offset = Wire.dt2p(p1.x, p1.y, p2.x, p2.y)/2;\n    var d = Wire.describeJoint(p1.x, p1.y, p2.x, p2.y, offset*inv);\n    this._el.setAttribute('d', d);\n  },\n  seal() {\n    if(this._cp1.dir == this._cp2.dir) return false;\n    var wrapper1 = this._cp1._brick;\n    var wrapper2 = this._cp2._brick;\n\n    if(this._cp1.attach(this._cp2)) {\n      wrapper1.wires.push(this);\n      wrapper2.wires.push(this);\n      return true;\n    } else {\n      return false;\n    }\n\n  },\n  delete() {\n    var wrapper1 = this._cp1._brick;\n    var wrapper2 = this._cp2._brick;\n    spliceByIndex(wrapper1.wires, this);\n    spliceByIndex(wrapper2.wires, this);\n    this._cp1.dettach(this._cp2);\n    this._el.parentNode.removeChild(this._el);\n  },\n  render() {\n    this._render(this._cp1.getPoint(), this._cp2.getPoint(), this._inverted);\n  }\n\n};\n\n\nfunction spliceByIndex(arr, obj) {\n  let index = arr.indexOf(obj);\n  console.log(index);\n  if (index != -1) {\n    arr.splice(index, 1);\n    return true;\n  }\n  return false;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Wire.js\n **/","export default function createElement(name, attrs) {\n  var el = document.createElementNS('http://www.w3.org/2000/svg', name);\n\n  for (let key in attrs) el.setAttribute(key, attrs[key]);\n\n  return el;\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils.js\n **/","import { DataPort, FlowPort } from './ports.js';\nimport blockBuilder from './blockBuilder.js';\n\nexport default function Brick({ behavior, title, ports, icon, gui, id, x, y }) {\n  this._el = blockBuilder(arguments[0]);\n  this._el.wrapper = this;\n\n  // this._id = id;\n  this.behavior = behavior;\n  this._container = null;\n  this._refBlock = id;\n  this.x = x || 0;\n  this.y = y || 0;\n\n  this._ports = {\n    in: [],\n    out: []\n  };\n\n  this.wires = [];\n\n  this._aux = { attaching: {} };\n  this._states = { dragging: false };\n\n  arrangePorts.call(this, ports);\n\n  return this;\n}\n\nBrick.prototype = {\n  get data () { return this.behavior(); },\n  get main() { return this._el.getElementById('main'); },\n  get _svg() { return getSvg(this._el); },\n  get x () { return this._el.getAttribute('x') * 1; }, // multiply by one just to convert from string to number\n  get y () { return this._el.getAttribute('y') * 1; }, //\n  get text () { return this._el.innerHTML; },\n  set x (val) { return this._el.setAttribute('x', val); },\n  set y (val) { return this._el.setAttribute('y', val); },\n  set text (val) { return (this._el.innerHTML = val); },\n\n  attr(key, value) {\n    if (value) return this._el.setAttribute(key, value);\n    else if (key) return this._el.getAttribute(key);\n  },\n  detach() {\n    this._el.parentNode.removeChild(this._el);\n    return this;\n  },\n  arrangePorts() {\n\n  },\n  delete() {\n    this.wires.forEach( wire => wire.delete() );\n    this.detach();\n  },\n  updateWires() {\n    this.wires.forEach( wire => wire.render() );\n  },\n  getValue(id) {\n    // var args = this._\n    var args = [];\n    var In = this._ports.in;\n\n    for (let i = 0; i < In.length; i++) {\n      args.push([]);\n      for (let j = 0; j < In[i].length; j++)\n        args[i].push(In[i][j].value());\n    }\n\n    if (id) return (this._behavior(args))[id];\n    else    return this._behavior(args);\n  }\n};\n\nfunction getSvg(el) {\n  if(el.parentNode.nodeName === 'svg') {\n    return el.parentNode;\n  }\n  return getSvg(el.parentNode);\n}\n\nfunction arrangePorts({ data_in = 1, data_out = 1, flow_in = 1, flow_out = 1 } = {}) {\n  var radius = 10;\n  var dist = 10; //distance beetween ports\n  var strokeWidth = 3.5;\n  var ports = this._ports;\n  var main = this.main;\n  // var rectBox = main.getBBox ? main.getBBox() : main.getBoundingClientRect();\n  var rectBox =  main.getBoundingClientRect();\n  var maxPorts = Math.max(data_in + flow_in, data_out + flow_out);\n  // var maxPorts = Math.max(ports.in.length, ports.out.length);\n  var Radius = radius + strokeWidth/2; //total radius -> circle radius plus its stroke width\n  var tRadius = dist + Radius;\n  var height = (dist + Radius * 2) * maxPorts + dist; //dist + diameter * number of ports + final dist\n  var width = main.getAttribute('width') * 1;\n\n  this._ports.in = [];\n  this._ports.out = [];\n  this._ports.flow_in = [];\n  this._ports.flow_out = [];\n\n  main.setAttribute('height', height);\n\n  var attrs = { id: null, r: radius, fill: '#B8D430', stroke: 'black', 'stroke-width': strokeWidth };\n  var flow_attrs = { id: null, r: radius, fill: '#2549e4', stroke: 'black', 'stroke-width': strokeWidth };\n  var i, y, ds;\n  // attrs.cx = margin; attrs.cy = rectBox.height/2;\n\n  ds = height/(data_in + flow_in);\n  y = ds/2;\n\n  for (i = 0; i < flow_in; i++, y+=ds) {\n    let port = new FlowPort(i, 'in', this);\n    port.attr('cx', Radius);\n    port.attr('cy', y);\n    ports.flow_in.push(port);\n    this._el.appendChild(port._el);\n  }\n\n  for (i = 0; i < data_in; i++, y+=ds) {\n    let port = new DataPort(i, 'in', this);\n    port.attr('cx', Radius);\n    port.attr('cy', y);\n    ports.in.push(port);\n    this._el.appendChild(port._el);\n  }\n\n  ds = height/(data_out + flow_out);\n  y = ds/2; //initially get half the distance cuz we drawin a circle, then we increment by the total distance\n            //cuz it means the missing half for the current circle and the initial half for the next circle\n            //so every 'y' means one center of circle\n  for (i = 0; i < flow_out; i++, y+=ds) {\n    let port = new FlowPort(i, 'out', this);\n    port.attr('cx', width + Radius);\n    port.attr('cy', y);\n    ports.flow_out.push(port);\n    this._el.appendChild(port._el);\n  }\n\n  for (i = 0; i < data_out; i++, y+=ds) {\n    let port = new DataPort(i, 'out', this);\n    port.attr('cx', width + Radius);\n    port.attr('cy', y);\n    ports.out.push(port);\n    this._el.appendChild(port._el);\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Brick.js\n **/","import Port from './Port.js';\n\nexport function DataPort(id, dir, brick) {\n  Port.call(this, { id, dir, brick, type: 'data' });\n\n  var opts = { fill: '#B8D43' };\n\n  return this;\n}\n\nDataPort.prototype = {\n  __proto__: Object.create(Port.prototype)\n};\n\nexport function FlowPort(id, dir, brick) {\n  Port.call(this, { id, dir, brick, type: 'flow' });\n\n  this._maxcon = 1;\n\n  this._el.setAttribute('fill', '#2549e4');\n\n  var opts = { fill: '#2549e4' };\n\n  return this;\n}\n\nFlowPort.prototype = {\n  __proto__: Object.create(Port.prototype)\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ports.js\n **/","import createElement from './utils.js';\n\nexport default function Port({ id, type, dir, brick }) {\n  if (['in','out'].indexOf(dir) == -1) throw \"port direction must be 'in' or 'out'\";\n  if (['data','flow'].indexOf(type) == -1) throw \"type must be 'data' or 'flow'\";\n  // var attrs = { width: 30, height: 30, fill: '#B8D430', stroke: 'black', 'stroke-width': 3 };\n  var attrs = { r: 10, fill: '#B8D430', stroke: 'black', 'stroke-width': 3.5 };\n\n  // Object.assign(attrs, { wrapper: this, type: 'port', dir: dir });\n  this._el = createElement('circle', attrs);\n  this._el.wrapper = this;\n  this._el.type = 'port';\n  this._el.dir = dir;\n\n  this._brick = brick;\n  this._maxcon = 2;\n  this._conn = [];\n  this.id = id;\n  this.type = type;\n  this.dir = dir; //dir -> direction, not directory\n\n  return this;\n}\n\nPort.prototype = {\n  get x () { return this.attr('cx') *1; }, //force coercion to number\n  get y () { return this.attr('cy') *1; },\n  get available () { return this._conn.length < this._maxcon; },\n  attr(key, value) {\n    if(value) return this._el.setAttribute(key, value);\n    else return this._el.getAttribute(key);\n  },\n  value() {\n    this._brick.getValue();\n    // this.wrapper.getValue(this._id);\n  },\n  getPoint() {\n    return { x: this._brick.x + this.x, y: this._brick.y + this.y };\n  },\n  attach(to) {\n    if(this.canAttach(to)) {\n      this._conn.push({ brick: to._brick._id, id: to.id });\n      to._conn.push({ brick: this._brick._id, id: this.id });\n      // console.log(this, to);\n      return true;\n    }\n    return false;\n  },\n  dettach(to) {\n    let index1 = this._conn.indexOf({ brick: to._brick._id, id: to.id });\n    let index2 = this._conn.indexOf({ brick: this._brick._id, id: this.id });\n    this._conn.splice(index1, 1);\n    to._conn.splice(index2, 1);\n\n  },\n  canAttach(to) {\n    return (this.available && to.available && this.type === to.type) ? true : false;\n  }\n};\n\n// module.exports = Port;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Port.js\n **/","import createElement from './utils.js';\n\n// function SVGBuilder({ strokeWidth, marginLeft, width, opacity, height, rx, ry, fill, stroke, ...rest }) {\nexport default function blockBuilder({ strokeWidth, marginLeft, width, opacity, height, rx, ry, fill, stroke, title }) {\n// { strokeWidth = 3, marginLeft = 10, width = 150, opacity = 1, height = 50, rx = 20, ry = 20, fill = '#1F8244', stroke = '#000000' }\n    strokeWidth = strokeWidth || 3;\n    marginLeft = marginLeft || 10;\n    width = width || 150;\n    opacity = opacity || 1;\n    height = height || 50;\n    rx = rx || 20;\n    ry = ry || 20;\n    fill = fill || '#1F8244';\n    stroke = '#000000';\n\n    var svg = createElement('svg');\n\n    var attrs = {\n      x: marginLeft + strokeWidth/2,\n      y: strokeWidth/2,\n      width,\n      height,\n      rx,\n      ry,\n      'stroke-width': strokeWidth,\n      style: `fill: ${fill}; stroke: ${stroke}; opacity: ${opacity};`,\n      class: 'sticky-block',\n      id: 'main'\n    };\n\n    var rect = createElement('rect', attrs);\n    rect.type = 'block';\n    var text = createElement('text', { x: 25, y: 30, style: 'cursor: default' });\n    text.type = 'title';\n    var txtNode = document.createTextNode(title);\n    text.appendChild(txtNode);\n\n    svg.appendChild(rect);\n    svg.appendChild(text);\n    return svg;\n}\n\n\nblockBuilder.prototype = {\n\n};\n\nlet test = {\n  fill: '#31dfaf',\n  border: '#e695bf',\n  ports: { data_in: 0, data_out: 0, flow_in: 1, flow_out: 1 },\n  title: 'Test Block',\n  icon: 'img/icon.png',\n  gui: [\n    { type: 'select', options: ['USA', 'BR', 'CND'] },\n    { type: 'text' },\n    { type: 'number' }\n  ],\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/blockBuilder.js\n **/"],"sourceRoot":""}