{"version":3,"sources":["webpack://Sticky/webpack/universalModuleDefinition","webpack://Sticky/webpack/bootstrap","webpack://Sticky/./node_modules/lodash/_Hash.js","webpack://Sticky/./node_modules/lodash/_ListCache.js","webpack://Sticky/./node_modules/lodash/_Map.js","webpack://Sticky/./node_modules/lodash/_MapCache.js","webpack://Sticky/./node_modules/lodash/_Symbol.js","webpack://Sticky/./node_modules/lodash/_arrayMap.js","webpack://Sticky/./node_modules/lodash/_assocIndexOf.js","webpack://Sticky/./node_modules/lodash/_baseGet.js","webpack://Sticky/./node_modules/lodash/_baseGetTag.js","webpack://Sticky/./node_modules/lodash/_baseIsNative.js","webpack://Sticky/./node_modules/lodash/_baseToString.js","webpack://Sticky/./node_modules/lodash/_castPath.js","webpack://Sticky/./node_modules/lodash/_coreJsData.js","webpack://Sticky/./node_modules/lodash/_freeGlobal.js","webpack://Sticky/./node_modules/lodash/_getMapData.js","webpack://Sticky/./node_modules/lodash/_getNative.js","webpack://Sticky/./node_modules/lodash/_getRawTag.js","webpack://Sticky/./node_modules/lodash/_getValue.js","webpack://Sticky/./node_modules/lodash/_hashClear.js","webpack://Sticky/./node_modules/lodash/_hashDelete.js","webpack://Sticky/./node_modules/lodash/_hashGet.js","webpack://Sticky/./node_modules/lodash/_hashHas.js","webpack://Sticky/./node_modules/lodash/_hashSet.js","webpack://Sticky/./node_modules/lodash/_isKey.js","webpack://Sticky/./node_modules/lodash/_isKeyable.js","webpack://Sticky/./node_modules/lodash/_isMasked.js","webpack://Sticky/./node_modules/lodash/_listCacheClear.js","webpack://Sticky/./node_modules/lodash/_listCacheDelete.js","webpack://Sticky/./node_modules/lodash/_listCacheGet.js","webpack://Sticky/./node_modules/lodash/_listCacheHas.js","webpack://Sticky/./node_modules/lodash/_listCacheSet.js","webpack://Sticky/./node_modules/lodash/_mapCacheClear.js","webpack://Sticky/./node_modules/lodash/_mapCacheDelete.js","webpack://Sticky/./node_modules/lodash/_mapCacheGet.js","webpack://Sticky/./node_modules/lodash/_mapCacheHas.js","webpack://Sticky/./node_modules/lodash/_mapCacheSet.js","webpack://Sticky/./node_modules/lodash/_memoizeCapped.js","webpack://Sticky/./node_modules/lodash/_nativeCreate.js","webpack://Sticky/./node_modules/lodash/_objectToString.js","webpack://Sticky/./node_modules/lodash/_root.js","webpack://Sticky/./node_modules/lodash/_stringToPath.js","webpack://Sticky/./node_modules/lodash/_toKey.js","webpack://Sticky/./node_modules/lodash/_toSource.js","webpack://Sticky/./node_modules/lodash/eq.js","webpack://Sticky/./node_modules/lodash/get.js","webpack://Sticky/./node_modules/lodash/isArray.js","webpack://Sticky/./node_modules/lodash/isFunction.js","webpack://Sticky/./node_modules/lodash/isObject.js","webpack://Sticky/./node_modules/lodash/isObjectLike.js","webpack://Sticky/./node_modules/lodash/isSymbol.js","webpack://Sticky/./node_modules/lodash/memoize.js","webpack://Sticky/./node_modules/lodash/toString.js","webpack://Sticky/(webpack)/buildin/global.js","webpack://Sticky/./src/Brick.js","webpack://Sticky/./src/Port.js","webpack://Sticky/./src/Sticky.js","webpack://Sticky/./src/Wire.js","webpack://Sticky/./src/arrangePorts.js","webpack://Sticky/./src/blockBuilder.js","webpack://Sticky/./src/blocks.js","webpack://Sticky/./src/gui.js","webpack://Sticky/./src/ports.js","webpack://Sticky/./src/utils.js"],"names":["RENDER_HTML","defaultConfig","strokeWidth","marginLeft","width","opacity","height","rx","ry","fill","stroke","gui","Brick","custom","cfg","behavior","title","ports","icon","id","x","y","inputs","_el","htmlBlockBuilder","blockBuilder","_container","_refBlock","_ports","in","out","wires","_aux","attaching","_states","dragging","arrangePorts","call","key","value","setAttribute","getAttribute","parentNode","removeChild","wire","delete","detach","forEach","render","args","In","i","length","push","j","_behavior","querySelector","getParentSvg","val","innerHTML","Port","type","dir","brick","includes","attrs","r","createElement","wrapper","_brick","_maxcon","_conn","getValue","to","canAttach","_id","index1","indexOf","index2","splice","available","attr","Sticky","el","document","getElementById","_uid","blocks","_objects","_wires","_state","svg","class","preserveAspectRatio","_svg","appendChild","matchViewBox","clearCanvas","setCanvasSize","colors","addEventListener","e","normalizeEvent","lastSelected","target","selectedWire","startAttach","parentSvg","shouldCapture","tagName","blockNode","console","debug","SVGbox","getBoundingClientRect","offset","left","top","mouseDown","keyCode","endAttach","isState","setState","attachMove","OffsetX","OffsetY","firstState","updateWires","style","name","obj","addElement","update","index","Object","keys","port_type","port","removeElement","contains","Wire","_inverted","_cp2","seal","state","mouse","_cp1","getPoint","_render","start","removeObj","startBlock","createBlock","addObj","Function","data","__blocks","undefined","fluxgram","map","object","refBlock","log","entries","blockId","block","toString","string","JSON","stringify","copy","parse","cps","blocky","from","conn","blocky2","findById","sealOrDiscard","loadPorts","flow_out","flow","toJSON","loadJSON","find","warning","bind","step","get","createElementNS","prototype","defaultBlocks","clientX","clientY","p1","p2","styles","group","_path","path","describeJoint","x1","y1","x2","y2","join","dt2p","Math","sqrt","pow","inv","d","element","wrapper1","wrapper2","attach","spliceByIndex","dettach","arr","data_in","data_out","flow_in","radius","distance","marginTop","main","rectBox","maxPorts","max","Radius","tRadius","flow_attrs","ds","FlowPort","DataPort","example","border","select","label","options","text","number","overflow","foreign","body","backgroundColor","section","form","buildForm","rect","txtNode","createTextNode","guiElement","op","conn1","conn2","brick1","brick2","val1","val2","eval","alert","_identity","v","onChange","xmlns","input","createHandler","f","event","createLabel","Number","createSelect","_label","txt","option","add","opts","nodeName"],"mappings":"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AAW;;AAEhC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC7CA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACZA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AChBA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC7BA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACtBA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACtBA,cAAc,mBAAO,CAAC,mDAAW;AACjC,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC5BA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACdA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACZA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AClCA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;AClBA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACfA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACzBA,WAAW,mBAAO,CAAC,+CAAS;AAC5B,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,UAAU,mBAAO,CAAC,6CAAQ;;AAE1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACpBA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACjBA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACfA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACfA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACrBA,cAAc,mBAAO,CAAC,mDAAW;;AAEjC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;;;;;;;;;;;;ACzBA,gBAAgB,mBAAO,CAAC,yDAAc;;AAEtC;AACA;;AAEA;;;;;;;;;;;;ACLA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACrBA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;ACRA,oBAAoB,mBAAO,CAAC,iEAAkB;;AAE9C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAED;;;;;;;;;;;;AC1BA,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACpBA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;;;;;;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,iBAAiB;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACpCA,cAAc,mBAAO,CAAC,qDAAY;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,WAAW,EAAE;AACb,aAAa,EAAE;AACf;AACA;AACA,iBAAiB,QAAQ,OAAO,SAAS,EAAE;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACzBA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC5BA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,mBAAmB,mBAAO,CAAC,6DAAgB;;AAE3C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC5BA,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA,iBAAiB;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;ACxEA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;AACA;AACA;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","file":"sticky.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Sticky\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Sticky\"] = factory();\n\telse\n\t\troot[\"Sticky\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/Sticky.js\");\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","import blockBuilder, { htmlBlockBuilder } from './blockBuilder.js';\nimport { getParentSvg } from './utils';\nimport arrangePorts from './arrangePorts';\n\nconst RENDER_HTML = true;\n\nconst defaultConfig = {\n  strokeWidth: 3,\n  marginLeft: 0,\n  width: 90,\n  opacity: 1,\n  height: 50,\n  rx: 20,\n  ry: 20,\n  fill: '#1F8244',\n  stroke: '#000000',\n  gui: {},\n}\n\nexport default class Brick {\n  constructor (custom = {}) {\n    const cfg = { ...defaultConfig, ...custom };\n    const { behavior, title, ports, icon, gui, id, x, y, inputs } = cfg;\n\n    // this._id = id;\n    this.inputs = inputs || {};\n    this._el = (RENDER_HTML ? htmlBlockBuilder : blockBuilder)(this, cfg);\n    this.behavior = behavior;\n    this._container = null;\n    this._refBlock = id;\n    this.x = x || 0;\n    this.y = y || 0;\n\n    this._ports = {\n      in: [],\n      out: []\n    };\n\n    this.wires = [];\n\n    this._aux = { attaching: {} };\n    this._states = { dragging: false };\n\n    arrangePorts.call(this, ports, gui);\n\n    return this;\n  }\n\n  get data () { return this.behavior(); }\n  get main () { return this._el.querySelector('#main'); }\n  get _svg () { return getParentSvg(this._el); }\n  get x () { return this._el.getAttribute('x') * 1; } // force coercion\n  get y () { return this._el.getAttribute('y') * 1; }\n  get text () { return this._el.innerHTML; }\n  set x (val) { return this._el.setAttribute('x', val); }\n  set y (val) { return this._el.setAttribute('y', val); }\n  set text (val) { return (this._el.innerHTML = val); }\n\n  attr (key, value) {\n    if (value) return this._el.setAttribute(key, value);\n    else if (key) return this._el.getAttribute(key);\n  }\n\n  detach () {\n    this._el.parentNode.removeChild(this._el);\n    return this;\n  }\n\n  arrangePorts () {\n\n  }\n\n  delete () {\n    for (let wire of [...this.wires])\n      wire.delete();\n\n    this.detach();\n  }\n\n  updateWires () {\n    this.wires.forEach( wire => wire.render() );\n  }\n\n  getValue (id) {\n    // var args = this._\n    var args = [];\n    var In = this._ports.in;\n\n    for (let i = 0; i < In.length; i++) {\n      args.push([]);\n      for (let j = 0; j < In[i].length; j++)\n        args[i].push(In[i][j].value());\n    }\n\n    if (id) return (this._behavior(args))[id];\n    else    return this._behavior(args);\n  }\n}","import { createElement } from './utils';\n\nexport default class Port {\n  constructor({ id, type, dir, brick }) {\n    if (!['in', 'out'].includes(dir)) throw \"port direction must be 'in' or 'out'\";\n    if (!['data', 'flow'].includes(type)) throw \"type must be 'data' or 'flow'\";\n    // var attrs = { width: 30, height: 30, fill: '#B8D430', stroke: 'black', 'stroke-width': 3 };\n    var attrs = { r: 7, fill: '#B8D430', stroke: 'black', 'stroke-width': 2.5 };\n\n    // Object.assign(attrs, { wrapper: this, type: 'port', dir: dir });\n    this._el = createElement('circle', attrs);\n    this._el.wrapper = this;\n    this._el.type = 'port';\n    this._el.dir = dir;\n\n    this._brick = brick;\n    this._maxcon = 2;\n    this._conn = [];\n    this.id = id;\n    this.type = type;\n    this.dir = dir; //dir -> direction, not directory\n  }\n\n  get x () { return this.attr('cx') * 1; } //force coercion to number\n\n  get y () { return this.attr('cy') * 1; }\n\n  get available () { return this._conn.length < this._maxcon; }\n\n  attr (key, value) {\n    if (value) return this._el.setAttribute(key, value);\n    else return this._el.getAttribute(key);\n  }\n\n  value () {\n    this._brick.getValue();\n    // this.wrapper.getValue(this._id);\n  }\n\n  getPoint () {\n    return { x: this._brick.x + this.x, y: this._brick.y + this.y };\n  }\n\n  attach (to) {\n    if(this.canAttach(to)) {\n      this._conn.push({ brick: to._brick._id, id: to.id });\n      to._conn.push({ brick: this._brick._id, id: this.id });\n      // console.log(this, to);\n      return true;\n    }\n    return false;\n  }\n\n  dettach (to) {\n    let index1 = this._conn.indexOf({ brick: to._brick._id, id: to.id });\n    let index2 = this._conn.indexOf({ brick: this._brick._id, id: this.id });\n    this._conn.splice(index1, 1);\n    to._conn.splice(index2, 1);\n  }\n\n  canAttach (to) {\n    return (this.available && to.available && this.type === to.type) ? true : false;\n  }\n}","import get from 'lodash/get';\n\nimport Wire from './Wire.js';\nimport Brick from './Brick.js';\nimport defaultBlocks from './blocks.js'\nimport { getParentSvg } from './utils.js';\n\nexport default class Sticky {\n  constructor(id, { width, height } = { width: 800, height: 600 }) {\n    this.el = document.getElementById(id);\n\n    if (!this.el)\n      throw \"Couldn't find element :(\";\n\n    this._uid = 0;\n    this._aux = {};\n    this.blocks = {};\n    this._objects = [];\n    this._wires = [];\n    this._state = null;\n\n    const svg = Sticky.createElement('svg', { class: 'svg-content', preserveAspectRatio: \"xMidYMid meet\" });\n    this._svg = svg;\n    this.el.appendChild(this._svg);\n    this.matchViewBox();\n\n    // this.registerBlock('actuator', ActuatorBrick);\n\n    this.clearCanvas();\n    this.setCanvasSize({ width, height });\n\n    this.colors = [\"#B8D430\", \"#3AB745\", \"#029990\", \"#3501CB\",\n                   \"#2E2C75\", \"#673A7E\", \"#CC0071\", \"#F80120\",\n                   \"#F35B20\", \"#FB9A00\", \"#FFCC00\", \"#FEF200\"];\n\n    // DOM Events\n    svg.addEventListener('mousedown', e => {\n      normalizeEvent(e);\n      this.lastSelected = null;\n      const { target } = e;\n\n      if (target.type === 'wire') {\n        this.lastSelected = target.wrapper;\n        return this.selectedWire = target.wrapper;\n      }\n\n      if (target.type === 'port' && target.dir === 'out') {\n        return this.startAttach(target);\n      }\n\n      const parentSvg = getParentSvg(target);\n      const shouldCapture = tagName => !['INPUT', 'SELECT', 'TEXTAREA', 'BUTTON'].includes(tagName);\n      if (shouldCapture(target.tagName) && parentSvg && parentSvg.type == 'block') {\n        const blockNode = parentSvg;\n        console.debug('Block selected:', blockNode, 'Triggered by: ', target);\n        var wrapper = blockNode.wrapper;\n        this.lastSelected = wrapper;\n        this.dragging = blockNode;\n        var SVGbox = wrapper._svg.getBoundingClientRect();\n        const offset = {\n          x: e.x - SVGbox.left,\n          y: e.y - SVGbox.top,\n        };\n        this._aux.mouseDown = { x: offset.x - wrapper.x, y: offset.y - wrapper.y };\n        this._svg.appendChild(this.dragging);\n        wrapper.wires.forEach(wire => this._svg.appendChild(wire._el));\n      }\n\n    }, false);\n\n    document.addEventListener('keydown', e => {\n      if (e.keyCode == 46) {\n        console.debug('deleting', this.lastSelected);\n        this.lastSelected.delete();\n        // @TODO should remove from state (brick, wire, port)\n      }\n    }, false);\n\n    svg.addEventListener('mouseup', e => {\n      this.dragging = null;\n      if(e.target.type === 'port')\n        return this.endAttach(e.target);\n\n      if(this.isState('attaching')) {\n        this.setState(null)\n        svg.removeChild(this._aux['wire']._el);\n      }\n    });\n\n    svg.addEventListener('mousemove', e => {\n      normalizeEvent(e);\n\n      return this.attachMove(e);\n    });\n\n    svg.addEventListener('mousemove', e => {\n      normalizeEvent(e);\n\n      if (this.dragging) {\n        var wrapper = this.dragging.wrapper;\n        var SVGbox = wrapper._svg.getBoundingClientRect();\n        var OffsetX = e.x - SVGbox.left;\n        var OffsetY =  e.y - SVGbox.top;\n\n        var firstState = this._aux.mouseDown;\n        wrapper.x = OffsetX - firstState.x;\n        wrapper.y = OffsetY - firstState.y;\n        wrapper.updateWires();\n      }\n    });\n\n    return this;\n  }\n\n  setCanvasSize({ width, height }) {\n    this._svg.style.width = width;\n    this._svg.style.height = height;\n    this._svg.setAttribute('viewBox', `0 0 ${width} ${height}`);\n  }\n\n//static methods\n  static createElement(name, attrs) {\n    var el = document.createElementNS('http://www.w3.org/2000/svg', name);\n\n    for (let key in attrs)\n      el.setAttribute(key, attrs[key]);\n\n    return el;\n  }\n\n  matchViewBox() {\n    const { width, height } = this._svg.getBoundingClientRect();\n\n    this._svg.setAttribute('viewBox', `0, 0, ${width} ${height}`);\n  }\n  Brick(name, attrs) {\n    var el = Sticky.createElement(name, attrs);\n    var brick = new Brick(el, this);\n    brick._id = this._uid++;\n    this._objects.push(brick);\n\n    return brick;\n  }\n  addObj(obj) {\n    if (obj._id == null) obj._id = this._uid++;\n    this._objects.push(obj);\n    this.addElement(obj._el);\n  }\n  removeObj(obj, update) {\n    let index = this._objects.indexOf(obj);\n    if (index == -1) return;\n\n    for (let port_type of Object.keys(obj._ports)) {\n      if (obj._ports[port_type].length) { // if there's any connection\n        for (let port of obj._ports[port_type]) {\n          // port.dettach();\n        }\n      }\n    }\n\n    for (let wire of [...obj.wires]) {\n      wire.delete();\n    }\n\n    this.removeElement(obj._el);\n    if (update)\n      // should splice wires too\n      return this._objects.splice(index, 1);\n  }\n  addElement(el) {\n    this._svg.appendChild(el);\n  }\n  removeElement(el) {\n    if (this._svg.contains(el))\n      this._svg.removeChild(el);\n  }\n  startAttach(port) {\n    let wire = new Wire(port.wrapper);\n    wire._inverted = port.wrapper.dir === 'in';\n    this.setState('attaching');\n    this._aux['wire'] = wire;\n    this.addElement(wire._el);\n  }\n  startDrag(port) {\n    this.setState('attaching');\n    this._aux['wire'] = wire;\n    this.addElement(wire._el);\n  }\n  endAttach(port) {\n    if (this.isState('attaching')) {\n      this.setState(null);\n      var wire = this._aux['wire'];\n      wire._cp2 = port.wrapper;\n\n      if (wire.seal()) {\n        wire.render();\n        this._wires.push(wire);\n      } else {\n        this.removeElement(wire._el);\n      }\n      delete this._aux['wire'];\n    }\n  }\n  setState(state) {\n    return this._state = state;\n  }\n  isState(state) {\n    return this._state === state;\n  }\n  attachMove(mouse) {\n    if (this.isState('attaching')) {\n      var wire = this._aux['wire'];\n      var SVGbox = this._svg.getBoundingClientRect();\n      //(below) pixel for removing the wire from the way so we can detect the event on port\n      var offset = wire._inverted ? 4 : -4;\n      var mouse = { x: mouse.x - SVGbox.left + offset, y: mouse.y - SVGbox.top };\n      var port = wire._cp1.getPoint();\n\n      wire._render(port, mouse, wire._inverted);\n    }\n  }\n  clearCanvas(start = true) {\n    for (let obj of this._objects) {\n      // this.removeElement(obj._el);\n      this.removeObj(obj, false);\n    }\n\n    this._objects = [];\n    this._wires = [];\n\n    if (!start) return;\n\n    const startBlock = this.createBlock('start');\n    startBlock.x = 30; startBlock.y = 30;\n    startBlock.behavior = () => 0;\n\n    this.addObj(startBlock);\n  }\n  registerBlock(name, obj) {\n    this.blocks[name] = {\n      ...obj,\n      id: name,\n      behavior: typeof obj.behavior !== 'function' ? new Function('findById', obj.behavior) : obj.behavior\n    }\n  }\n  static registerBlock(name, obj) {\n    this.prototype.__blocks[name] = {\n      ...obj,\n      id: name,\n      behavior: typeof obj.behavior !== 'function' ? new Function('findById', obj.behavior) : obj.behavior\n    }\n  }\n  createBlock(name, data = {}) {\n    const cfg = this.blocks[name] || this.__blocks[name];\n\n    if (!cfg) throw `Block '${name}' not registered`;\n\n    return new Brick({ ...cfg, ...data });\n  }\n  static createBlock(name, data = {}) {\n    const cfg = this.prototype.__blocks[name];\n\n    if (!cfg) throw \"Block not registered\";\n\n    return new Brick({ ...cfg, ...data });\n  }\n  findById(id) {\n    if (id == undefined) return null;\n    for (let obj of this._objects) {\n      if (obj._id === id) return obj;\n    }\n  }\n  toJSON() {\n    var fluxgram = this._objects.map(obj => {\n      let object = {\n        refBlock: obj._refBlock,\n        inputs: obj.inputs,\n        id: obj._id,\n        x: obj.x,\n        y: obj.y,\n        ports: {} // flow_in, flow_out, in, out\n      };\n\n      for (let type in obj._ports) {\n        console.log(type, obj._ports[type]);\n        object.ports[type] = obj._ports[type].map(port => [...port._conn]);\n      }\n\n      return object;\n    });\n\n    let refBlock = Object.entries(this.__blocks).map(\n      ([blockId, block]) => ({\n        ...block,\n        behavior: block.behavior.toString(),\n      })\n    );\n\n    const string = JSON.stringify({ refBlock, fluxgram }, null, 2);\n    copy(string);\n    return JSON.parse(string);\n  }\n\n  sealOrDiscard (...cps) {\n    const wire = new Wire(...cps);\n    this.addElement(wire._el);\n    if (wire.seal()) {\n      wire.render();\n      this._wires.push(wire);\n    } else {\n      this.removeElement(wire._el);\n    }\n  }\n\n  loadPorts (blocky, ports, [from, to]) {\n    ports.forEach((port, index) => {\n      for (let conn of port) {\n        const blocky2 = this.findById(conn.brick);\n        const cps = [\n          blocky._ports[from][index],\n          blocky2._ports[to][conn.id],\n        ];\n        this.sealOrDiscard(...cps)\n      }\n    });\n  }\n\n  loadJSON (data) {\n    this.clearCanvas(false);\n\n    for (let block of data) {\n      const { refBlock, inputs, x, y, value, id } = block;\n      const obj = this.createBlock(refBlock, { inputs });\n      obj.x = x;\n      obj.y = y;\n      obj.value = value;\n      obj._id = id;\n      this.addObj(obj);\n    }\n\n    // load wires\n    for (let block of data) {\n      const blocky = this.findById(block.id);\n      this.loadPorts(blocky, block.ports.out, ['out', 'in']);\n      this.loadPorts(blocky, block.ports.flow_out, ['flow_out', 'flow_in']);\n    }\n  }\n\n  reload () {\n    const flow = this.toJSON().fluxgram;\n    this.clearCanvas(true);\n    this.loadJSON(flow);\n  }\n\n  run () {\n    let flow, id, refBlock;\n    let block = this._objects.find(({ _refBlock }) => _refBlock == 'start');\n\n    if (!block) {\n      console.warning('Start block not found');\n      return false;\n    }\n\n    console.debug('Start block found:', block);\n\n    // flow = start.behavior();\n    // an ActuatorBrick should return the flow_out port id\n    // it'll be useful for if block\n    const findById = this.findById.bind(this);\n\n    let step = 0;\n    do {\n      refBlock = this.blocks[block._refBlock] || this.__blocks[block._refBlock];\n      flow = refBlock.behavior.call(block, findById);\n      id = get(block._ports, ['flow_out', flow, '_conn', 0, 'brick'], null);\n      block = findById(id);\n      console.debug('Step', ++step, refBlock);\n      console.debug('Next Step', flow, block);\n    } while(block);\n  }\n\n  compile () {\n\n  }\n}\n\nSticky.prototype.__blocks = defaultBlocks || {};\n\nconst normalizeEvent = e => {\n  if (e.x == undefined) e.x = e.clientX;\n  if (e.y == undefined) e.y = e.clientY;\n};\n","import { createElement } from './utils';\n\nexport default function Wire(p1, p2) {\n  const styles = [\n    {\n      'stroke': '#000000',\n      'stroke-width': 7,\n      'stroke-linejoin': 'round',\n      'stroke-linecap': 'round',\n      'fill': 'none',\n      'opacity': 1\n    },\n    {\n      'stroke': '#505050',\n      'stroke-width': 6,\n      'stroke-linejoin': 'round',\n      'stroke-linecap': 'round',\n      'fill': 'none',\n      'opacity': 0.8\n    },\n    {\n      'stroke': '#F3F375',\n      'stroke-width': 2,\n      'stroke-linecap': 'round',\n      'stroke-dasharray': 6,\n      'fill': 'none',\n      'opacity': 0.8\n    },\n  ];\n\n  const group = createElement('g');\n  this._path = styles.map(style => {\n    const path = createElement('path', style);\n    path.type = 'wire';\n    path.wrapper = this;\n    group.appendChild(path);\n    return path;\n  });\n  this._el = group;\n  this._el.type = 'wire';\n  this._el.wrapper = this;\n  this._cp1 = p1;\n  this._cp2 = p2;\n  this._inverted = false;\n  this._behavior = undefined;\n\n  return this;\n}\n\n//static methods\n\nWire.describeJoint = (x1, y1, x2, y2, offset) =>\n  [ \"M\", x1, y1,\n    \"C\", x1 + offset, y1, x2 - offset, y2, x2, y2\n  ].join(\" \");\n\nWire.dt2p = (x1, y1, x2, y2) => Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n\nWire.prototype = {\n  _render(p1, p2, inv) {\n    inv = inv ? -1 : 1;\n    var offset = Wire.dt2p(p1.x, p1.y, p2.x, p2.y)/2;\n    var d = Wire.describeJoint(p1.x, p1.y, p2.x, p2.y, offset*inv);\n    for (let element of this._path)\n      element.setAttribute('d', d);\n  },\n  seal() {\n    if(this._cp1.dir == this._cp2.dir) return false;\n    var wrapper1 = this._cp1._brick;\n    var wrapper2 = this._cp2._brick;\n\n    if(this._cp1.attach(this._cp2)) {\n      wrapper1.wires.push(this);\n      wrapper2.wires.push(this);\n      return true;\n    } else {\n      return false;\n    }\n\n  },\n  delete() {\n    var wrapper1 = this._cp1._brick;\n    var wrapper2 = this._cp2._brick;\n    spliceByIndex(wrapper1.wires, this);\n    spliceByIndex(wrapper2.wires, this);\n    this._cp1.dettach(this._cp2);\n    this._el.parentNode.removeChild(this._el);\n  },\n  render() {\n    this._render(this._cp1.getPoint(), this._cp2.getPoint(), this._inverted);\n  }\n\n};\n\n\nfunction spliceByIndex(arr, obj) {\n  let index = arr.indexOf(obj);\n\n  if (index != -1) {\n    arr.splice(index, 1);\n    return true;\n  }\n  return false;\n}\n","import { DataPort, FlowPort } from './ports.js';\n\nexport default function arrangePorts({ data_in = 1, data_out = 1, flow_in = 1, flow_out = 1 } = {}, gui = {}) {\n  var radius = 10;\n  var distance = 0; //distance beetween ports\n  var strokeWidth = 3.5;\n  var marginTop = 30;\n  var ports = this._ports;\n  var main = this.main;\n  // var rectBox = main.getBBox ? main.getBBox() : main.getBoundingClientRect();\n  var rectBox =  main.getBoundingClientRect();\n  var maxPorts = Math.max(data_in + flow_in, data_out + flow_out);\n  // var maxPorts = Math.max(ports.in.length, ports.out.length);\n  var Radius = radius + strokeWidth/2; //total radius -> circle radius plus its stroke width\n  var tRadius = distance + Radius;\n  var height = (tRadius * 2) * Math.max(maxPorts, 1 + Object.keys(gui).length); //distance + diameter * number of ports + final distance\n  var width = main.getAttribute('width') * 1;\n\n  this._ports.in = [];\n  this._ports.out = [];\n  this._ports.flow_in = [];\n  this._ports.flow_out = [];\n\n  main.setAttribute('height', height + marginTop + marginTop/4);\n\n  var attrs = { id: null, r: radius, fill: '#B8D430', stroke: 'black', 'stroke-width': strokeWidth };\n  var flow_attrs = { id: null, r: radius, fill: '#2549e4', stroke: 'black', 'stroke-width': strokeWidth };\n  var i, y, ds;\n  // attrs.cx = margin; attrs.cy = rectBox.height/2;\n\n  ds = height/(data_in + flow_in);\n  y = marginTop + ds/2; // center circle origin\n\n  for (i = 0; i < flow_in; i++, y+=ds) {\n    let port = new FlowPort({ id: i, dir: 'in', brick: this });\n    port.attr('cy', y);\n    ports.flow_in.push(port);\n    this._el.appendChild(port._el);\n  }\n\n  for (i = 0; i < data_in; i++, y+=ds) {\n    let port = new DataPort({ id: i, dir: 'in', brick: this });\n    port.attr('cy', y);\n    ports.in.push(port);\n    this._el.appendChild(port._el);\n  }\n\n  ds = height/(data_out + flow_out);\n  y = marginTop + ds/2;\n\n  for (i = 0; i < flow_out; i++, y+=ds) {\n    let port = new FlowPort({ id: i, dir: 'out', brick: this });\n    port.attr('cx', width);\n    port.attr('cy', y);\n    ports.flow_out.push(port);\n    this._el.appendChild(port._el);\n  }\n\n  for (i = 0; i < data_out; i++, y+=ds) {\n    let port = new DataPort({ id: i, dir: 'out', brick: this });\n    port.attr('cx', width);\n    port.attr('cy', y);\n    ports.out.push(port);\n    this._el.appendChild(port._el);\n  }\n\n}","import { createElement } from './utils';\nimport { buildForm } from './gui';\n\nconst example = {\n  fill: '#31dfaf',\n  border: '#e695bf',\n  ports: { data_in: 0, data_out: 0, flow_in: 1, flow_out: 1 },\n  title: 'Example Block',\n  icon: 'img/icon.png',\n  gui: {\n    select: { label: 'Select', type: 'select', options: ['USA', 'BR', 'CND'] },\n    text: { label: 'Text', type: 'text' },\n    number: { label: 'Number', type: 'number' }\n  },\n};\n\nexport function htmlBlockBuilder (wrapper, cfg) {\n  const { width, height, gui, title, fill } = cfg;\n  const svg = createElement('svg');\n  svg.wrapper = wrapper;\n  svg.type = 'block';\n  svg.style.overflow = 'visible';\n  var attrs = {\n    width: Math.max(60, width),\n    height: height + Object.keys(gui).length * 25,\n    class: 'sticky-block-html',\n    id: 'main'\n  }\n  const foreign = createElement('foreignObject', { ...attrs });\n  const body = document.createElement('body');\n  body.innerHTML = /*html*/`\n    <header>${title}</header>\n  `;\n  body.style.backgroundColor = fill;\n  const section = document.createElement('section');\n  const form = buildForm(\n    gui,\n    id => wrapper.inputs[id] || '',\n    ({ id, value }) => { wrapper.inputs[id] = value; },\n  );\n\n  section.appendChild(form);\n  body.appendChild(section);\n  foreign.appendChild(body);\n  svg.appendChild(foreign);\n\n  return svg;\n}\n\n// function SVGBuilder({ strokeWidth, marginLeft, width, opacity, height, rx, ry, fill, stroke, ...rest }) {\nexport default function blockBuilder(wrapper, cfg) {\n  const { strokeWidth, marginLeft, width, opacity, height, rx, ry, fill, stroke, title, gui } = cfg;\n  // { strokeWidth = 3, marginLeft = 10, width = 150, opacity = 1, height = 50, rx = 20, ry = 20, fill = '#1F8244', stroke = '#000000' }\n  var svg = createElement('svg');\n  svg.wrapper = wrapper;\n  svg.type = 'block';\n  svg.style.overflow = 'visible';\n\n  var attrs = {\n    width,\n    height: height + Object.keys(gui).length * 25,\n    rx,\n    ry,\n    'stroke-width': strokeWidth,\n    style: `fill: ${fill}; stroke: ${stroke}; opacity: ${opacity};`,\n    class: 'sticky-block',\n    id: 'main'\n  }\n\n  var rect = createElement('rect', attrs);\n  var text = createElement('text', { x: 15, y: 30, style: 'cursor: default' });\n  var txtNode = document.createTextNode(title);\n  text.appendChild(txtNode);\n\n  svg.appendChild(rect);\n  svg.appendChild(text);\n\n  const foreign = createElement('foreignObject', { class: 'sticky-gui', x: 15, y: 40 });\n  const guiElement = buildForm(gui, ({ id, value }) => {\n    svg.wrapper.inputs[id] = value;\n  });\n\n  foreign.appendChild(guiElement);\n  svg.appendChild(foreign);\n\n  return svg;\n}","export default {\n  'start': {\n    id: 'start',\n    width: 35,\n    height: 60,\n    rx: 10,\n    ry: 10,\n    fill: '#AF2B37',\n    ports: { data_in: 0, data_out: 0, flow_in: 0, flow_out: 1 },\n    title: 'Start',\n    icon: 'img/icon.png',\n    behavior: () => 0\n  },\n  'SourceNumber': {\n    id: 'SourceNumber',\n    fill: '#cfec2f',\n    ports: { data_in: 0, data_out: 1, flow_in: 0, flow_out: 0 },\n    title: 'Number',\n    gui: {\n      number: { label: 'Number', type: 'number' }\n    },\n    behavior: function() {\n      return [this.inputs.number];\n    }\n  },\n  'SourceString': {\n    id: 'SourceString',\n    fill: '#cfec2f',\n    ports: { data_in: 0, data_out: 1, flow_in: 0, flow_out: 0 },\n    title: 'String',\n    gui: {\n      text: { label: 'Text', type: 'text' }\n    },\n    behavior: function() {\n      return [this.inputs.text];\n    }\n  },\n  'Operation': {\n    id: 'Operation',\n    fill: '#cfec2f',\n    ports: { data_in: 2, data_out: 1, flow_in: 0, flow_out: 0 },\n    title: 'Operation',\n    gui: {\n      op: { label: 'Operation', type: 'select', options: ['==', '!=', '===', '!==', '>', '>=', '<', '<=', '+', '-', '*', '/' ] },\n    },\n    behavior: function(findById) {\n      const conn1 = (this._ports['in'][0]._conn[0]);\n      const conn2 = (this._ports['in'][1]._conn[0]);\n      const brick1 = findById(conn1.brick);\n      const brick2 = findById(conn2.brick);\n      const val1 = brick1.behavior(findById)[conn1.id];\n      const val2 = brick2.behavior(findById)[conn2.id];\n\n      return [eval(`${JSON.stringify(val1)} ${this.inputs.op} ${JSON.stringify(val2)}`)];\n    }\n  },\n  'Alert': {\n    id: 'Alert',\n    fill: '#EC962F',\n    ports: { data_in: 1, data_out: 0, flow_in: 1, flow_out: 1 },\n    title: 'Alert',\n    behavior: function(findById) {\n      const conn = this._ports['in'][0]._conn[0];\n      const brick = findById(conn.brick);\n      const data = brick.behavior(findById)[conn.id];\n\n      alert(data);\n\n      return 0;\n    }\n  },\n  'Sum': {\n    id: 'Sum',\n    fill: '#cfec2f',\n    ports: { data_in: 2, data_out: 1, flow_in: 0, flow_out: 0 },\n    title: 'Sum',\n    behavior: function(findById) {\n      const conn1 = (this._ports['in'][0]._conn[0]);\n      const conn2 = (this._ports['in'][1]._conn[0]);\n      const brick1 = findById(conn1.brick);\n      const brick2 = findById(conn2.brick);\n      const val1 = brick1.behavior(findById)[conn1.id];\n      const val2 = brick2.behavior(findById)[conn2.id];\n\n      return [val1 + val2];\n    }\n  },\n  'If': {\n    id: 'If',\n    fill: '#EC962F',\n    ports: { data_in: 1, data_out: 0, flow_in: 1, flow_out: 2 },\n    title: 'If',\n    behavior: function(findById) {\n      const conn = this._ports['in'][0]._conn[0];\n      const brick = findById(conn.brick);\n      const data = brick.behavior(findById)[conn.id];\n\n      return data ? 0 : 1;\n    }\n  },\n}","import { createElement } from './utils';\n\nconst _identity = v => v;\n\nexport function buildForm (gui, getValue, onChange = _identity) {\n  const form = document.createElement('form');\n  form.xmlns = 'http://www.w3.org/1999/xhtml';\n  // form.style.margin = '0';\n\n  Object.entries(gui).forEach(([id, input]) => {\n    const { label, type, options } = input;\n    let element;\n\n    const createHandler = (f = _identity)  => event => {\n      onChange({ event, id, value: f(event.target.value) });\n    };\n\n    switch (type) {\n      case 'number': {\n        element = createLabel(label, type, getValue(id), createHandler(Number));\n        break;\n      }\n      case 'text': {\n        element = createLabel(label, type, getValue(id), createHandler());\n        break;\n      }\n      case 'select': {\n        element = createSelect(label, options, getValue(id), createHandler());\n        break;\n      }\n    }\n\n    form.appendChild(element);\n  });\n\n  return form;\n}\n\nconst createLabel = (_label, type, value, onChange) => {\n  const label = document.createElement('label');\n  const txt = document.createTextNode(`${_label}: `);\n  const input = document.createElement('input');\n  input.type = type;\n  input.value = value;\n  input.addEventListener('change', onChange);\n  onChange({ target: input });\n  // input.style.width = '100%';\n\n  label.appendChild(txt);\n  label.appendChild(input);\n\n  return label;\n};\n\nconst createSelect = (_label, options, value, onChange) => {\n  const label = document.createElement('label');\n  const txt = document.createTextNode(`${_label}: `);\n  const select = document.createElement('select');\n  options.forEach(value => {\n    const option = document.createElement('option');\n    option.value = option.text = value;\n\n    select.add(option, null);\n  });\n  select.value = value;\n  select.addEventListener('change', onChange);\n  onChange({ target: select });\n  label.appendChild(txt);\n  label.appendChild(select);\n\n  return label;\n};","import Port from './Port.js';\n\nexport class DataPort extends Port {\n  constructor ({ id, dir, brick }) {\n    super({ id, dir, brick, type: 'data' });\n\n    const opts = { fill: '#B8D43' };\n  }\n}\n\nexport class FlowPort extends Port {\n  constructor ({ id, dir, brick }) {\n    super({ id, dir, brick, type: 'flow' });\n\n    this._maxcon = 1;\n\n    this._el.setAttribute('fill', '#2549e4');\n\n    const opts = { fill: '#2549e4' };\n  }\n}","export function getParentSvg(el) {\n  if (!el.parentNode) return null;\n  if (el.parentNode.nodeName === 'svg')\n    return el.parentNode;\n  return getParentSvg(el.parentNode);\n}\n\nexport function createElement(name, attrs) {\n  var el = document.createElementNS('http://www.w3.org/2000/svg', name);\n\n  for (let key in attrs) el.setAttribute(key, attrs[key]);\n\n  return el;\n}\n\n"],"sourceRoot":""}